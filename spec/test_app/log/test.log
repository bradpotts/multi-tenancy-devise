  [1m[36m (7.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (6.7ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreateThings (20140428155742)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "things" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "account_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140428155742"]]
  [1m[35m (7.1ms)[0m  commit transaction
Migrating to CreateMtdeviseAccounts (20150426071228)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "mtdevise_accounts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150426071228"]]
  [1m[35m (5.0ms)[0m  commit transaction
Migrating to AddOwnerIdToMtdeviseAccounts (20150426115631)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "mtdevise_accounts" ADD "owner_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150426115631"]]
  [1m[35m (6.2ms)[0m  commit transaction
Migrating to CreateMtdeviseUsers (20150426115910)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "mtdevise_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar, "password_digest" varchar, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150426115910"]]
  [1m[35m (5.0ms)[0m  commit transaction
Migrating to AddDeviseToMtdeviseUsers (20150426143800)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "mtdevise_users" ADD "encrypted_password" varchar DEFAULT '' NOT NULL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "mtdevise_users" ADD "reset_password_token" varchar[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "mtdevise_users" ADD "reset_password_sent_at" datetime
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "mtdevise_users" ADD "remember_created_at" datetime[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "mtdevise_users" ADD "sign_in_count" integer DEFAULT 0 NOT NULL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "mtdevise_users" ADD "current_sign_in_at" datetime[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "mtdevise_users" ADD "last_sign_in_at" datetime
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "mtdevise_users" ADD "current_sign_in_ip" varchar[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "mtdevise_users" ADD "last_sign_in_ip" varchar
  [1m[36m (1.0ms)[0m  [1mCREATE UNIQUE INDEX "index_mtdevise_users_on_email" ON "mtdevise_users" ("email")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_mtdevise_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_mtdevise_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_mtdevise_users_on_reset_password_token" ON "mtdevise_users" ("reset_password_token")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150426143800"]]
  [1m[36m (7.5ms)[0m  [1mcommit transaction[0m
Migrating to AddSubdomainToMtdeviseAccounts (20150427200506)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "mtdevise_accounts" ADD "subdomain" varchar[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_mtdevise_accounts_on_subdomain" ON "mtdevise_accounts" ("subdomain")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150427200506"]]
  [1m[35m (6.4ms)[0m  commit transaction
Migrating to CreateMtdeviseMembers (20150428110406)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "mtdevise_members" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "account_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150428110406"]]
  [1m[35m (6.9ms)[0m  commit transaction
Migrating to AddConfirmedAtToUsers (20150504181830)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "mtdevise_users" ADD "confirmed_at" datetime
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "mtdevise_users" ADD "confirmation_token" varchar[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "mtdevise_users" ADD "confirmation_sent_at" datetime
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "mtdevise_users" ADD "unconfirmed_email" varchar[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150504181830"]]
  [1m[36m (5.3ms)[0m  [1mcommit transaction[0m
Migrating to RolifyCreateRoles (20150604101617)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "mtdevise_roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "resource_id" integer, "resource_type" varchar, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "mtdevise_users_mtdevise_roles" ("user_id" integer, "role_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_mtdevise_roles_on_name" ON "mtdevise_roles" ("name")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_mtdevise_roles_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_mtdevise_roles_on_name' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_mtdevise_roles_on_name_and_resource_type_and_resourc" ON "mtdevise_roles" ("name", "resource_type", "resource_id")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_mtdevise_users_mtdevise_roles_on_user_id_and_role_id" ON "mtdevise_users_mtdevise_roles" ("user_id", "role_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150604101617"]]
  [1m[35m (7.2ms)[0m  commit transaction
Migrating to AddAuthenticationTokenToMtdeviseUsers (20150719125100)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "mtdevise_users" ADD "authentication_token" varchar
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_mtdevise_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_mtdevise_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_mtdevise_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_mtdevise_users_on_email' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_mtdevise_users_on_authentication_token" ON "mtdevise_users" ("authentication_token")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150719125100"]]
  [1m[36m (7.0ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_mtdevise_accounts_on_subdomain' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_mtdevise_accounts_on_subdomain' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_mtdevise_roles_on_name_and_resource_type_and_resourc' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_mtdevise_roles_on_name_and_resource_type_and_resourc' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_mtdevise_roles_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_mtdevise_roles_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_mtdevise_users_on_authentication_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_mtdevise_users_on_authentication_token' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_mtdevise_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_mtdevise_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_mtdevise_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_mtdevise_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_mtdevise_users_mtdevise_roles_on_user_id_and_role_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_mtdevise_users_mtdevise_roles_on_user_id_and_role_id' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (8.9ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test1@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "aznMC1ttysfDRQ-csB3C"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test1@example.com"], ["encrypted_password", "$2a$04$rtouo7VgeQS2zZRRqs5YzeH2avFNdv05tvjI5ZGWp.VJCMTOI.doa"], ["confirmed_at", "2015-10-24 22:34:49.835090"], ["authentication_token", "aznMC1ttysfDRQ-csB3C"], ["created_at", "2015-10-24 22:34:49.853828"], ["updated_at", "2015-10-24 22:34:49.853828"]]
  [1m[35m (7.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test1' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #1' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #1"], ["subdomain", "test1"], ["owner_id", 1], ["created_at", "2015-10-24 22:34:49.909935"], ["updated_at", "2015-10-24 22:34:49.909935"]]
  [1m[36m (8.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:34:49.941343"], ["updated_at", "2015-10-24 22:34:49.941343"]]
  [1m[35m (6.0ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:49 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (1.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (50.3ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.6ms)
Completed 200 OK in 6599ms (Views: 6585.7ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:56 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test1@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.3ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test1@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-10-24 22:34:56.576950"], ["current_sign_in_at", "2015-10-24 22:34:56.576950"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-10-24 22:34:56.577886"], ["id", 1]]
  [1m[35m (9.7ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 31ms (ActiveRecord: 10.3ms)
Started GET "/accounts" for 127.0.0.1 at 2015-10-24 22:34:56 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (3.1ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 7.2ms | ActiveRecord: 0.3ms)
  [1m[36m (8.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/accounts" for 127.0.0.1 at 2015-10-24 22:34:56 +0000
Processing by Mtdevise::AccountsController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:56 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.5ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[36m (5.7ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.7ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (8.6ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (5.5ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-10-24 22:34:56 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.9ms)
Completed 200 OK in 17ms (Views: 15.9ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-10-24 22:34:56 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (1.1ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (5.8ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.0ms)
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-10-24 22:34:56 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:56 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (8.9ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'orbanbotond@gmail.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "6PMKx-xCJ28TyeFq3ysj"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "orbanbotond@gmail.com"], ["encrypted_password", "$2a$04$HbvNWhrGDB4YomJjBFEKceTqqwA1Rjc2LQci97O4bz1CgbL3yFbM."], ["confirmed_at", "2015-10-24 22:34:56.922161"], ["authentication_token", "6PMKx-xCJ28TyeFq3ysj"], ["created_at", "2015-10-24 22:34:56.924739"], ["updated_at", "2015-10-24 22:34:56.924739"]]
  [1m[36m (5.7ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:56 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:56 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"orbanbotond@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "orbanbotond@gmail.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-10-24 22:34:56.945343"], ["current_sign_in_at", "2015-10-24 22:34:56.945343"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-10-24 22:34:56.946132"], ["id", 1]]
  [1m[36m (7.3ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 13ms (ActiveRecord: 7.6ms)
Started GET "/accounts" for 127.0.0.1 at 2015-10-24 22:34:56 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 2.9ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-10-24 22:34:56 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
Redirected to http://example.com/accounts
Filter chain halted as :redirect_logged_in_users_to_account_page rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-10-24 22:34:56 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[36m (8.8ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (8.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test3@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "UgSzFn6rKtrRAQj4yGHy"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test3@example.com"], ["encrypted_password", "$2a$04$GQ8UcEB7j0nhr73ojONxou1cjX1UsShthtt.saYAlCen.OZpiqkG2"], ["confirmed_at", "2015-10-24 22:34:57.082589"], ["authentication_token", "UgSzFn6rKtrRAQj4yGHy"], ["created_at", "2015-10-24 22:34:57.084770"], ["updated_at", "2015-10-24 22:34:57.084770"]]
  [1m[36m (7.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test2' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #2' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #2"], ["subdomain", "test2"], ["owner_id", 1], ["created_at", "2015-10-24 22:34:57.095914"], ["updated_at", "2015-10-24 22:34:57.095914"]]
  [1m[35m (7.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:34:57.105513"], ["updated_at", "2015-10-24 22:34:57.105513"]]
  [1m[36m (5.5ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test3@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test3@example.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-10-24 22:34:57.128130"], ["current_sign_in_at", "2015-10-24 22:34:57.128130"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-10-24 22:34:57.128845"], ["id", 1]]
  [1m[36m (5.5ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 5.9ms)
Started GET "/accounts" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "account"=>{"name"=>"Test", "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Test"], ["subdomain", "test"], ["created_at", "2015-10-24 22:34:57.158601"], ["updated_at", "2015-10-24 22:34:57.158601"]]
  [1m[35m (7.0ms)[0m  commit transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 2) LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 2 AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["user_id", 1], ["created_at", "2015-10-24 22:34:57.169918"], ["updated_at", "2015-10-24 22:34:57.169918"]]
  [1m[36m (5.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 2) LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 2 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_accounts" SET "owner_id" = ?, "updated_at" = ? WHERE "mtdevise_accounts"."id" = ?[0m  [["owner_id", 1], ["updated_at", "2015-10-24 22:34:57.178306"], ["id", 2]]
  [1m[35m (7.0ms)[0m  commit transaction
  [1m[36mMtdevise::Role Load (0.2ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 2]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 2], ["created_at", "2015-10-24 22:34:57.197271"], ["updated_at", "2015-10-24 22:34:57.197271"]]
  [1m[35m (5.9ms)[0m  commit transaction
  [1m[36mMtdevise::Role Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.2ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)  [["user_id", 1], ["role_id", 1]]
  [1m[36m (7.0ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 69ms (ActiveRecord: 35.2ms)
Started GET "/accounts" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.8ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.2ms)
  [1m[35m (6.8ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (8.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.5ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (8.5ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test5@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "RV5PzeeTfAahMjyLNvw-"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test5@example.com"], ["encrypted_password", "$2a$04$2ma1CIccO9I2HpYTBElW.OsFnfXkBRQ.3a2IEtRnBqJeKhMIeSBo6"], ["confirmed_at", "2015-10-24 22:34:57.305829"], ["authentication_token", "RV5PzeeTfAahMjyLNvw-"], ["created_at", "2015-10-24 22:34:57.308269"], ["updated_at", "2015-10-24 22:34:57.308269"]]
  [1m[35m (7.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test3' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #3' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #3"], ["subdomain", "test3"], ["owner_id", 1], ["created_at", "2015-10-24 22:34:57.318742"], ["updated_at", "2015-10-24 22:34:57.318742"]]
  [1m[36m (6.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:34:57.328109"], ["updated_at", "2015-10-24 22:34:57.328109"]]
  [1m[35m (6.7ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.5ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.5ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test5@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test5@example.com"]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-10-24 22:34:57.351719"], ["current_sign_in_at", "2015-10-24 22:34:57.351719"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-10-24 22:34:57.352448"], ["id", 1]]
  [1m[35m (5.6ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 5.9ms)
Started GET "/accounts" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.5ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "account"=>{"name"=>"Test", "subdomain"=>"admin"}, "commit"=>"Create Account"}
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.2ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 4.3ms | ActiveRecord: 0.7ms)
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (8.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (9.0ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test7@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "A9D6yhbGzkz7x7RmzM8H"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test7@example.com"], ["encrypted_password", "$2a$04$ibbO.eyHGkd4m5grYv2d8enzmb7bJIsIAbRLasbY3XiZW.J21NtKC"], ["confirmed_at", "2015-10-24 22:34:57.508608"], ["authentication_token", "A9D6yhbGzkz7x7RmzM8H"], ["created_at", "2015-10-24 22:34:57.510802"], ["updated_at", "2015-10-24 22:34:57.510802"]]
  [1m[36m (6.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test4' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #4' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #4"], ["subdomain", "test4"], ["owner_id", 1], ["created_at", "2015-10-24 22:34:57.520805"], ["updated_at", "2015-10-24 22:34:57.520805"]]
  [1m[35m (5.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:34:57.528843"], ["updated_at", "2015-10-24 22:34:57.528843"]]
  [1m[36m (5.3ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test7@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test7@example.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-10-24 22:34:57.551044"], ["current_sign_in_at", "2015-10-24 22:34:57.551044"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-10-24 22:34:57.551742"], ["id", 1]]
  [1m[36m (8.0ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 14ms (ActiveRecord: 8.3ms)
Started GET "/accounts" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.6ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "account"=>{"name"=>"Test", "subdomain"=>"<admin>"}, "commit"=>"Create Account"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.9ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 4.0ms | ActiveRecord: 0.6ms)
  [1m[35m (9.0ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.8ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.6ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (8.5ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test9@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "WuUjRsjXs8Y2HDaHp95C"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test9@example.com"], ["encrypted_password", "$2a$04$CfPvUgi1RzkyR6RIGH7KsO4gh1gcKsWaHkSAzxsJk9xNhMFn2UMfe"], ["confirmed_at", "2015-10-24 22:34:57.660287"], ["authentication_token", "WuUjRsjXs8Y2HDaHp95C"], ["created_at", "2015-10-24 22:34:57.662395"], ["updated_at", "2015-10-24 22:34:57.662395"]]
  [1m[35m (6.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test5' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #5' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #5"], ["subdomain", "test5"], ["owner_id", 1], ["created_at", "2015-10-24 22:34:57.672388"], ["updated_at", "2015-10-24 22:34:57.672388"]]
  [1m[36m (6.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:34:57.681546"], ["updated_at", "2015-10-24 22:34:57.681546"]]
  [1m[35m (5.6ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.3ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test9@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test9@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-10-24 22:34:57.704237"], ["current_sign_in_at", "2015-10-24 22:34:57.704237"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-10-24 22:34:57.704920"], ["id", 1]]
  [1m[35m (6.4ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 6.8ms)
Started GET "/accounts" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.3ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "account"=>{"name"=>"Test", "subdomain"=>"test5"}, "commit"=>"Create Account"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test5' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test5' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.8ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 3.9ms | ActiveRecord: 0.6ms)
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (9.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (8.8ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.2ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test11@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "XpWJsGdLzAdoxexyfUPm"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test11@example.com"], ["encrypted_password", "$2a$04$cN4zC63D0o5ytSUKPxfxW.YtxpUMK/BP7ls66nuQ5HiBB7olVoQ4O"], ["confirmed_at", "2015-10-24 22:34:57.852850"], ["authentication_token", "XpWJsGdLzAdoxexyfUPm"], ["created_at", "2015-10-24 22:34:57.855185"], ["updated_at", "2015-10-24 22:34:57.855185"]]
  [1m[36m (8.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test6' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #6' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #6"], ["subdomain", "test6"], ["owner_id", 1], ["created_at", "2015-10-24 22:34:57.866973"], ["updated_at", "2015-10-24 22:34:57.866973"]]
  [1m[35m (7.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:34:57.876721"], ["updated_at", "2015-10-24 22:34:57.876721"]]
  [1m[36m (6.9ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test11@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test11@example.com"]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.1ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test11@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.8ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (8.7ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test12@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "ZpsMzA3hzm9ynG_d8Pwy"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test12@example.com"], ["encrypted_password", "$2a$04$r00wWrfGfCLoVfu12gKQZOqnW8SpvzVzhPWMfopYUWDcUpiKKUm.K"], ["confirmed_at", "2015-10-24 22:34:57.975098"], ["authentication_token", "ZpsMzA3hzm9ynG_d8Pwy"], ["created_at", "2015-10-24 22:34:57.977108"], ["updated_at", "2015-10-24 22:34:57.977108"]]
  [1m[36m (5.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test7' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #7' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #7"], ["subdomain", "test7"], ["owner_id", 1], ["created_at", "2015-10-24 22:34:57.985842"], ["updated_at", "2015-10-24 22:34:57.985842"]]
  [1m[35m (5.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:34:57.994182"], ["updated_at", "2015-10-24 22:34:57.994182"]]
  [1m[36m (6.7ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test12@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test12@example.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-10-24 22:34:58.016316"], ["current_sign_in_at", "2015-10-24 22:34:58.016316"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-10-24 22:34:58.017022"], ["id", 1]]
  [1m[36m (5.4ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 11ms (ActiveRecord: 5.7ms)
Started GET "/accounts" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[35m (6.4ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.6ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.4ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (8.5ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (8.5ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'orbanbotond@gmail.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "zRxRbmgZRPRRRy3jM193"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "orbanbotond@gmail.com"], ["encrypted_password", "$2a$04$.O/mvw7mfEzhUEZVaUHPTuNKfgY.oLItpouSAxG12Ci8sCxt/gUxW"], ["confirmed_at", "2015-10-24 22:34:58.178176"], ["authentication_token", "zRxRbmgZRPRRRy3jM193"], ["created_at", "2015-10-24 22:34:58.180609"], ["updated_at", "2015-10-24 22:34:58.180609"]]
  [1m[35m (5.5ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"orbanbotond@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "orbanbotond@gmail.com"]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-10-24 22:34:58.201531"], ["current_sign_in_at", "2015-10-24 22:34:58.201531"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-10-24 22:34:58.202208"], ["id", 1]]
  [1m[35m (8.2ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 14ms (ActiveRecord: 8.5ms)
Started GET "/accounts" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.5ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
Redirected to http://example.com/accounts
Filter chain halted as :redirect_if_coming_form_sign_up rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.5ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.2ms)
  [1m[35m (6.5ms)[0m  DELETE FROM "things";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.7ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (8.3ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.8ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.6ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"<admin>"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.6ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.8ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.1ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 5.1ms | ActiveRecord: 0.7ms)
  [1m[35m (5.6ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.7ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test14@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "rs5ge6oC4z181_WRsy5u"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test14@example.com"], ["encrypted_password", "$2a$04$iB8zyWfomuWo8fUBO8Lx..WXOiPpLkINQZNnz.QqYdV7SvP2Eol7m"], ["confirmed_at", "2015-10-24 22:34:58.357325"], ["authentication_token", "rs5ge6oC4z181_WRsy5u"], ["created_at", "2015-10-24 22:34:58.359323"], ["updated_at", "2015-10-24 22:34:58.359323"]]
  [1m[35m (7.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test8' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #8' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #8"], ["subdomain", "test8"], ["owner_id", 1], ["created_at", "2015-10-24 22:34:58.369802"], ["updated_at", "2015-10-24 22:34:58.369802"]]
  [1m[36m (5.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:34:58.377558"], ["updated_at", "2015-10-24 22:34:58.377558"]]
  [1m[35m (5.3ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "account"=>{"name"=>"another name", "owner_attributes"=>{"email"=>"test14@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"anothersubdomain"}, "commit"=>"Create Account"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test14@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'anothersubdomain' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'another name' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test14@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'anothersubdomain' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'another name' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.8ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.9ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 4.8ms | ActiveRecord: 0.7ms)
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.7ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"admin"}, "commit"=>"Create Account"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 4.9ms | ActiveRecord: 0.7ms)
  [1m[36m (5.5ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "b4yRe2qBDus-3QbnrvYL"]]
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["confirmation_token", "d31b57f0c5be7e8903cb36c56be461e15c44ce28036266cb3b0949f5754f7c74"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "mtdevise@example.com"], ["encrypted_password", "$2a$04$bDOfZH3GjjlYSQaJ4ALzPOD2cviVa0dcdoqARfyl2xVrUmn5npRdm"], ["authentication_token", "b4yRe2qBDus-3QbnrvYL"], ["created_at", "2015-10-24 22:34:58.584348"], ["updated_at", "2015-10-24 22:34:58.584348"], ["confirmation_token", "Vxbn6kUaAHmXPgy6B-jJ"], ["confirmation_sent_at", "2015-10-24 22:34:58.764451"]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.7ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 180.9ms

Sent mail to mtdevise@example.com (8.8ms)
Date: Sat, 24 Oct 2015 22:34:58 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: mtdevise@example.com
Message-ID: <562c0792ea74b_4e5e106f32860855@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome mtdevise@example.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=Vxbn6kUaAHmXPgy6B-jJ">Confirm my account</a></p>
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test"], ["subdomain", "test"], ["owner_id", 1], ["created_at", "2015-10-24 22:34:58.964360"], ["updated_at", "2015-10-24 22:34:58.964360"]]
  [1m[36m (6.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:34:58.974299"], ["updated_at", "2015-10-24 22:34:58.974299"]]
  [1m[35m (9.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["confirmed_at", "2015-10-24 22:34:58.984675"], ["updated_at", "2015-10-24 22:34:58.985139"], ["id", 1]]
  [1m[36m (5.4ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 1) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-10-24 22:34:58.995272"], ["updated_at", "2015-10-24 22:34:58.995272"]]
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[35m (6.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-10-24 22:34:59.014844"], ["current_sign_in_at", "2015-10-24 22:34:59.014844"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-10-24 22:34:59.015508"], ["id", 1]]
  [1m[36m (7.3ms)[0m  [1mcommit transaction[0m
Redirected to http://test.example.com/
Completed 302 Found in 446ms (ActiveRecord: 44.8ms)
Started GET "/" for 127.0.0.1 at 2015-10-24 22:34:59 +0000
  [1m[35mMtdevise::Account Load (0.2ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/account/dashboard/index.html.erb within layouts/mtdevise/dashboard (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_header.html.erb (0.8ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.1ms)
  [1m[35m (6.8ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.5ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (9.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("subdomain", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["subdomain", "test"], ["name", "Test"], ["created_at", "2015-10-24 22:34:59.111075"], ["updated_at", "2015-10-24 22:34:59.111075"]]
  [1m[35m (6.6ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-10-24 22:34:59 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-10-24 22:34:59 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.9ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-10-24 22:34:59 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.2ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (1.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.9ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 6.3ms | ActiveRecord: 0.8ms)
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (9.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test15@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "P93sUZWyYySGNgLr1kBC"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test15@example.com"], ["encrypted_password", "$2a$04$0mIDtITtRHEOFjYdRy/PcuWYE263QtumPBTxGpNu1PY77wRRblOya"], ["confirmed_at", "2015-10-24 22:34:59.254678"], ["authentication_token", "P93sUZWyYySGNgLr1kBC"], ["created_at", "2015-10-24 22:34:59.257036"], ["updated_at", "2015-10-24 22:34:59.257036"]]
  [1m[36m (5.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test9' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #9' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #9"], ["subdomain", "test9"], ["owner_id", 1], ["created_at", "2015-10-24 22:34:59.266337"], ["updated_at", "2015-10-24 22:34:59.266337"]]
  [1m[35m (7.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:34:59.276252"], ["updated_at", "2015-10-24 22:34:59.276252"]]
  [1m[36m (6.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test16@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "myoLGWB-EysMRz2LBUm4"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test16@example.com"], ["encrypted_password", "$2a$04$lMX46YqTX/2S9xkmBVwPLue.SCInmlq12pj3f1MoK58Sej.bN7dWS"], ["confirmed_at", "2015-10-24 22:34:59.285758"], ["authentication_token", "myoLGWB-EysMRz2LBUm4"], ["created_at", "2015-10-24 22:34:59.287827"], ["updated_at", "2015-10-24 22:34:59.287827"]]
  [1m[35m (7.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test10' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #10' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #10"], ["subdomain", "test10"], ["owner_id", 2], ["created_at", "2015-10-24 22:34:59.298739"], ["updated_at", "2015-10-24 22:34:59.298739"]]
  [1m[36m (6.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 2], ["created_at", "2015-10-24 22:34:59.308080"], ["updated_at", "2015-10-24 22:34:59.308080"]]
  [1m[35m (6.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["name", "Account A's Thing"], ["created_at", "2015-10-24 22:34:59.320661"], ["updated_at", "2015-10-24 22:34:59.320661"]]
  [1m[36m (8.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["name", "Account B's Thing"], ["created_at", "2015-10-24 22:34:59.330264"], ["updated_at", "2015-10-24 22:34:59.330264"]]
  [1m[35m (5.1ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:59 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.5ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:59 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test15@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test15@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-10-24 22:34:59.352906"], ["current_sign_in_at", "2015-10-24 22:34:59.352906"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-10-24 22:34:59.353717"], ["id", 1]]
  [1m[35m (6.9ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 13ms (ActiveRecord: 7.3ms)
Started GET "/accounts" for 127.0.0.1 at 2015-10-24 22:34:59 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.2ms)
Started GET "/things" for 127.0.0.1 at 2015-10-24 22:34:59 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test9"]]
Processing by ThingsController#index as HTML
  [1m[35mThing Load (0.2ms)[0m  SELECT "things".* FROM "things" WHERE "things"."account_id" = ?  [["account_id", 1]]
  Rendered things/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 53ms (Views: 52.3ms | ActiveRecord: 0.2ms)
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.7ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test18@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "P8LP178z8kiTDfk382Yi"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test18@example.com"], ["encrypted_password", "$2a$04$xvtVf1C6fue213575sMJ4.mTxFvKkGtSUgUGlS/AgYDFEQ32lbvqi"], ["confirmed_at", "2015-10-24 22:34:59.499344"], ["authentication_token", "P8LP178z8kiTDfk382Yi"], ["created_at", "2015-10-24 22:34:59.502015"], ["updated_at", "2015-10-24 22:34:59.502015"]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test11' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #11' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #11"], ["subdomain", "test11"], ["owner_id", 1], ["created_at", "2015-10-24 22:34:59.513377"], ["updated_at", "2015-10-24 22:34:59.513377"]]
  [1m[35m (7.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:34:59.523586"], ["updated_at", "2015-10-24 22:34:59.523586"]]
  [1m[36m (8.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test19@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "oMPdKCRcM_xYFx14adSy"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test19@example.com"], ["encrypted_password", "$2a$04$IOF5Nv9oibHFEhm6tvVFX.yMq7TXWTYMDjIcybiGRCTTcLiKHCV5G"], ["confirmed_at", "2015-10-24 22:34:59.535424"], ["authentication_token", "oMPdKCRcM_xYFx14adSy"], ["created_at", "2015-10-24 22:34:59.537378"], ["updated_at", "2015-10-24 22:34:59.537378"]]
  [1m[35m (5.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test12' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #12' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #12"], ["subdomain", "test12"], ["owner_id", 2], ["created_at", "2015-10-24 22:34:59.546614"], ["updated_at", "2015-10-24 22:34:59.546614"]]
  [1m[36m (6.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 2], ["created_at", "2015-10-24 22:34:59.556171"], ["updated_at", "2015-10-24 22:34:59.556171"]]
  [1m[35m (6.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["name", "Account A's Thing"], ["created_at", "2015-10-24 22:34:59.564678"], ["updated_at", "2015-10-24 22:34:59.564678"]]
  [1m[36m (6.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["name", "Account B's Thing"], ["created_at", "2015-10-24 22:34:59.572654"], ["updated_at", "2015-10-24 22:34:59.572654"]]
  [1m[35m (6.0ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:59 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.5ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:59 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test19@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test19@example.com"]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-10-24 22:34:59.596286"], ["current_sign_in_at", "2015-10-24 22:34:59.596286"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-10-24 22:34:59.596970"], ["id", 2]]
  [1m[35m (5.6ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 5.9ms)
Started GET "/accounts" for 127.0.0.1 at 2015-10-24 22:34:59 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 2]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.2ms)
Started GET "/things" for 127.0.0.1 at 2015-10-24 22:34:59 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test12"]]
Processing by ThingsController#index as HTML
  [1m[35mThing Load (0.1ms)[0m  SELECT "things".* FROM "things" WHERE "things"."account_id" = ?  [["account_id", 2]]
  Rendered things/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.5ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (8.6ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"something", "subdomain"=>"something", "owner_attributes"=>{"email"=>"bb@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'bb@gmail.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'something' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "zwighdLzmkmUzmrfieWG"]]
  [1m[35mMtdevise::User Load (0.0ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["confirmation_token", "8fa7eec2a6bec64cbb6e6e4a1bf7c472a91bc37601e4edb0a5030a6c4de9d275"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "bb@gmail.com"], ["encrypted_password", "$2a$04$UtiseZ4gqHCGcl7JzH5N/ezL60famQINWw7tbmMlAv5ukhNQSUBvO"], ["authentication_token", "zwighdLzmkmUzmrfieWG"], ["created_at", "2015-10-24 22:34:59.746905"], ["updated_at", "2015-10-24 22:34:59.746905"], ["confirmation_token", "S_LAzGsS_kv3szuEscXk"], ["confirmation_sent_at", "2015-10-24 22:34:59.747900"]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.4ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.7ms

Sent mail to bb@gmail.com (2.7ms)
Date: Sat, 24 Oct 2015 22:34:59 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: bb@gmail.com
Message-ID: <562c0793b7b98_4e5e106f328609c3@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome bb@gmail.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=S_LAzGsS_kv3szuEscXk">Confirm my account</a></p>
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "something"], ["subdomain", "something"], ["owner_id", 1], ["created_at", "2015-10-24 22:34:59.754107"], ["updated_at", "2015-10-24 22:34:59.754107"]]
  [1m[36m (8.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:34:59.764733"], ["updated_at", "2015-10-24 22:34:59.764733"]]
  [1m[35m (5.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["confirmed_at", "2015-10-24 22:34:59.771345"], ["updated_at", "2015-10-24 22:34:59.771835"], ["id", 1]]
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'something' AND "mtdevise_accounts"."id" != 1) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-10-24 22:34:59.782338"], ["updated_at", "2015-10-24 22:34:59.782338"]]
  [1m[36m (6.8ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[35m (8.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-10-24 22:34:59.802779"], ["current_sign_in_at", "2015-10-24 22:34:59.802779"], ["last_sign_in_ip", "0.0.0.0"], ["current_sign_in_ip", "0.0.0.0"], ["sign_in_count", 1], ["updated_at", "2015-10-24 22:34:59.803304"], ["id", 1]]
  [1m[36m (6.8ms)[0m  [1mcommit transaction[0m
Redirected to http://something.test.host/
Completed 302 Found in 72ms (ActiveRecord: 44.1ms)
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts"  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.2ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND ((((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type IS NULL) AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id = 1))))  [["user_id", 1]]
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (8.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.5ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"something", "subdomain"=>"something", "owner_attributes"=>{"email"=>"bb@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'bb@gmail.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'something' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "9qmRWw3MPWjuSQosnz_s"]]
  [1m[35mMtdevise::User Load (0.0ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["confirmation_token", "306eccfc1003a43297d091db7c242ce69c4216f5655874fc089af5ae251fae29"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "bb@gmail.com"], ["encrypted_password", "$2a$04$Op.BJUt5G4XT9FZSaqtAE.sUhmYytdbl7lxypTnHQEkcZOireNzTG"], ["authentication_token", "9qmRWw3MPWjuSQosnz_s"], ["created_at", "2015-10-24 22:34:59.889089"], ["updated_at", "2015-10-24 22:34:59.889089"], ["confirmation_token", "UbtckKZ3QCd4Rn5jrkjs"], ["confirmation_sent_at", "2015-10-24 22:34:59.889942"]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.3ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.7ms

Sent mail to bb@gmail.com (2.8ms)
Date: Sat, 24 Oct 2015 22:34:59 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: bb@gmail.com
Message-ID: <562c0793da652_4e5e106f32861072@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome bb@gmail.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=UbtckKZ3QCd4Rn5jrkjs">Confirm my account</a></p>
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "something"], ["subdomain", "something"], ["owner_id", 1], ["created_at", "2015-10-24 22:34:59.896278"], ["updated_at", "2015-10-24 22:34:59.896278"]]
  [1m[36m (9.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:34:59.908695"], ["updated_at", "2015-10-24 22:34:59.908695"]]
  [1m[35m (6.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["confirmed_at", "2015-10-24 22:34:59.916652"], ["updated_at", "2015-10-24 22:34:59.917095"], ["id", 1]]
  [1m[36m (5.3ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'something' AND "mtdevise_accounts"."id" != 1) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-10-24 22:34:59.926523"], ["updated_at", "2015-10-24 22:34:59.926523"]]
  [1m[36m (8.4ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[35m (7.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-10-24 22:34:59.947351"], ["current_sign_in_at", "2015-10-24 22:34:59.947351"], ["last_sign_in_ip", "0.0.0.0"], ["current_sign_in_ip", "0.0.0.0"], ["sign_in_count", 1], ["updated_at", "2015-10-24 22:34:59.947866"], ["id", 1]]
  [1m[36m (6.6ms)[0m  [1mcommit transaction[0m
Redirected to http://something.test.host/
Completed 302 Found in 73ms (ActiveRecord: 46.5ms)
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts"  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND ((((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type IS NULL) AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id = 1))))  [["user_id", 1]]
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (10.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (8.7ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (8.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.6ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (8.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (8.0ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.4ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'user@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "1ZyfBUoZysih-vzKpcVb"]]
  [1m[35mMtdevise::User Load (0.0ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["confirmation_token", "7d1f777c6c4b125cde5c2c05cceef87e805106aa65bcf0d326ba3bb78498e1cb"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user@example.com"], ["encrypted_password", "$2a$04$rXyN4xWiTrLKPA16NhHsNueYLcETr6jonvUFkON13N/RGJ/FQfxWS"], ["authentication_token", "1ZyfBUoZysih-vzKpcVb"], ["created_at", "2015-10-24 22:35:00.171107"], ["updated_at", "2015-10-24 22:35:00.171107"], ["confirmation_token", "GFFFfLNUvDXBqk_g2rGK"], ["confirmation_sent_at", "2015-10-24 22:35:00.171848"]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.3ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.6ms

Sent mail to user@example.com (2.9ms)
Date: Sat, 24 Oct 2015 22:35:00 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: user@example.com
Message-ID: <562c07942b12a_4e5e106f328611d6@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome user@example.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=GFFFfLNUvDXBqk_g2rGK">Confirm my account</a></p>
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account"], ["subdomain", "test"], ["owner_id", 1], ["created_at", "2015-10-24 22:35:00.178190"], ["updated_at", "2015-10-24 22:35:00.178190"]]
  [1m[36m (7.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:35:00.188146"], ["updated_at", "2015-10-24 22:35:00.188146"]]
  [1m[35m (6.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["confirmed_at", "2015-10-24 22:35:00.195807"], ["updated_at", "2015-10-24 22:35:00.196252"], ["id", 1]]
  [1m[36m (6.6ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::User Load (0.3ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["account_id", 1]]
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (9.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (8.5ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.5ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test21@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "_2zbbXTjFyyTx7eihpb2"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test21@example.com"], ["encrypted_password", "$2a$04$sniYaFCraYqG9szNC1aEFeWc8lkkfqcXmLFyDESe3oLrqrl3UYtCa"], ["confirmed_at", "2015-10-24 22:35:00.408249"], ["authentication_token", "_2zbbXTjFyyTx7eihpb2"], ["created_at", "2015-10-24 22:35:00.410579"], ["updated_at", "2015-10-24 22:35:00.410579"]]
  [1m[36m (6.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test13' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #13' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #13"], ["subdomain", "test13"], ["owner_id", 1], ["created_at", "2015-10-24 22:35:00.420767"], ["updated_at", "2015-10-24 22:35:00.420767"]]
  [1m[35m (5.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:35:00.428845"], ["updated_at", "2015-10-24 22:35:00.428845"]]
  [1m[36m (5.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test22@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "y814JDQEBvbPyCZxYfFG"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test22@example.com"], ["encrypted_password", "$2a$04$Y/MEx97bq3SviW1g4RCw1O/1iK7nTF64qr.VuM/kByoCp2QOGuCuC"], ["confirmed_at", "2015-10-24 22:35:00.437307"], ["authentication_token", "y814JDQEBvbPyCZxYfFG"], ["created_at", "2015-10-24 22:35:00.439140"], ["updated_at", "2015-10-24 22:35:00.439140"]]
  [1m[35m (8.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test14' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #14' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #14"], ["subdomain", "test14"], ["owner_id", 2], ["created_at", "2015-10-24 22:35:00.450784"], ["updated_at", "2015-10-24 22:35:00.450784"]]
  [1m[36m (6.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 2], ["created_at", "2015-10-24 22:35:00.459950"], ["updated_at", "2015-10-24 22:35:00.459950"]]
  [1m[35m (6.6ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-10-24 22:35:00 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test13"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:35:00 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test13"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:35:00 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test13"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test22@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::Account Load (0.2ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1  [["subdomain", "test13"]]
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1[0m  [["account_id", 1], ["email", "test22@example.com"]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.4ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test22@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.8ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[35m (6.9ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.8ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (8.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test23@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "dE9jy5JzpysyCBNXQLs8"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test23@example.com"], ["encrypted_password", "$2a$04$popwlem0IGUPp6T7lh9n/uNE5kMtAykdaqZUfHVSE.zLJ5vyXpM92"], ["confirmed_at", "2015-10-24 22:35:00.559083"], ["authentication_token", "dE9jy5JzpysyCBNXQLs8"], ["created_at", "2015-10-24 22:35:00.561487"], ["updated_at", "2015-10-24 22:35:00.561487"]]
  [1m[35m (5.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test15' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #15' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #15"], ["subdomain", "test15"], ["owner_id", 1], ["created_at", "2015-10-24 22:35:00.570391"], ["updated_at", "2015-10-24 22:35:00.570391"]]
  [1m[36m (6.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:35:00.579609"], ["updated_at", "2015-10-24 22:35:00.579609"]]
  [1m[35m (7.0ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-10-24 22:35:00 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test15"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:35:00 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test15"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 19ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:35:00 +0000
  [1m[36mMtdevise::Account Load (0.9ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test15"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test23@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1  [["subdomain", "test15"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1[0m  [["account_id", 1], ["email", "test23@example.com"]]
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-10-24 22:35:00.624367"], ["current_sign_in_at", "2015-10-24 22:35:00.624367"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-10-24 22:35:00.625750"], ["id", 1]]
  [1m[35m (7.0ms)[0m  commit transaction
Redirected to http://test15.example.com/
Completed 302 Found in 17ms (ActiveRecord: 7.7ms)
Started GET "/" for 127.0.0.1 at 2015-10-24 22:35:00 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test15"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/account/dashboard/index.html.erb within layouts/mtdevise/dashboard (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_header.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.1ms)
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.4ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test24@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "A3gqDyzFn5ZhNedbw1i3"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test24@example.com"], ["encrypted_password", "$2a$04$zTDEASrGE1SxweF89DWr0ejZHsWiyERDtux.wPvRpn8JLbAGqMpJu"], ["confirmed_at", "2015-10-24 22:35:00.707012"], ["authentication_token", "A3gqDyzFn5ZhNedbw1i3"], ["created_at", "2015-10-24 22:35:00.709292"], ["updated_at", "2015-10-24 22:35:00.709292"]]
  [1m[36m (7.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test16' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #16' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #16"], ["subdomain", "test16"], ["owner_id", 1], ["created_at", "2015-10-24 22:35:00.720771"], ["updated_at", "2015-10-24 22:35:00.720771"]]
  [1m[35m (5.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:35:00.728917"], ["updated_at", "2015-10-24 22:35:00.728917"]]
  [1m[36m (5.1ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-10-24 22:35:00 +0000
  [1m[35mMtdevise::Account Load (0.2ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test16"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:35:00 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test16"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.3ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:35:00 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test16"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test24@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1[0m  [["subdomain", "test16"]]
  [1m[35mMtdevise::User Load (1.5ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1  [["account_id", 1], ["email", "test24@example.com"]]
Completed 401 Unauthorized in 5ms (ActiveRecord: 1.6ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test24@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.7ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.5ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (8.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.6ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test25@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "WHJw1dGzSXS6UpwTDNhQ"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test25@example.com"], ["encrypted_password", "$2a$04$J4HG7Bluwx3GvixOckucKOq2LvVLXEXQzWi67700n4iUpcbg9Ux96"], ["confirmed_at", "2015-10-24 22:35:00.831721"], ["authentication_token", "WHJw1dGzSXS6UpwTDNhQ"], ["created_at", "2015-10-24 22:35:00.834149"], ["updated_at", "2015-10-24 22:35:00.834149"]]
  [1m[36m (6.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test17' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #17' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #17"], ["subdomain", "test17"], ["owner_id", 1], ["created_at", "2015-10-24 22:35:00.844430"], ["updated_at", "2015-10-24 22:35:00.844430"]]
  [1m[35m (8.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:35:00.856030"], ["updated_at", "2015-10-24 22:35:00.856030"]]
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-10-24 22:35:00 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test17"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:35:00 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test17"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.3ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:35:00 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test17"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"foo@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1[0m  [["subdomain", "test17"]]
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1  [["account_id", 1], ["email", "foo@example.com"]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"foo@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.8ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.6ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (8.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (8.0ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test1@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "gymJsGTNqNnLQUzeq3yk"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test1@example.com"], ["encrypted_password", "$2a$04$RkyS1ZALC3yxRuDyRvIBe.ne04FydL2cKO6SgxPIiq1Os5f7mn1CG"], ["confirmed_at", "2015-11-05 03:43:20.784742"], ["authentication_token", "gymJsGTNqNnLQUzeq3yk"], ["created_at", "2015-11-05 03:43:20.841186"], ["updated_at", "2015-11-05 03:43:20.841186"]]
  [1m[35m (6.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test1' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #1' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #1"], ["subdomain", "test1"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:20.857330"], ["updated_at", "2015-11-05 03:43:20.857330"]]
  [1m[36m (5.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:20.884653"], ["updated_at", "2015-11-05 03:43:20.884653"]]
  [1m[35m (5.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test2@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "qNsUMsevPVTik9MqBtzs"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test2@example.com"], ["encrypted_password", "$2a$04$6R8anodKAKPHhyfdSoQAeegSnbYWF6wtCNVvg.5NyuHOgp9QqzyZa"], ["confirmed_at", "2015-11-05 03:43:20.893997"], ["authentication_token", "qNsUMsevPVTik9MqBtzs"], ["created_at", "2015-11-05 03:43:20.896056"], ["updated_at", "2015-11-05 03:43:20.896056"]]
  [1m[36m (5.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test2' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #2' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #2"], ["subdomain", "test2"], ["owner_id", 2], ["created_at", "2015-11-05 03:43:20.904761"], ["updated_at", "2015-11-05 03:43:20.904761"]]
  [1m[35m (9.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-05 03:43:20.916330"], ["updated_at", "2015-11-05 03:43:20.916330"]]
  [1m[36m (5.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["name", "Account A's Thing"], ["created_at", "2015-11-05 03:43:20.925903"], ["updated_at", "2015-11-05 03:43:20.925903"]]
  [1m[35m (6.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["name", "Account B's Thing"], ["created_at", "2015-11-05 03:43:20.933574"], ["updated_at", "2015-11-05 03:43:20.933574"]]
  [1m[36m (5.1ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:20 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (1.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (53.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.7ms)
Completed 200 OK in 6135ms (Views: 6121.5ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test2@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.3ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test2@example.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 03:43:27.103314"], ["current_sign_in_at", "2015-11-05 03:43:27.103314"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 03:43:27.104198"], ["id", 2]]
  [1m[36m (7.7ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 27ms (ActiveRecord: 8.3ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mMtdevise::Account Load (0.2ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 2]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (3.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 7.2ms | ActiveRecord: 0.4ms)
Started GET "/things" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test2"]]
Processing by ThingsController#index as HTML
  [1m[36mThing Load (0.1ms)[0m  [1mSELECT "things".* FROM "things" WHERE "things"."account_id" = ?[0m  [["account_id", 2]]
  Rendered things/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 84ms (Views: 83.5ms | ActiveRecord: 0.1ms)
  [1m[35m (7.0ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (4.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.5ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test4@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "PgiJRg7BjP3NvMG-wex2"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test4@example.com"], ["encrypted_password", "$2a$04$SBnMHS6JXkBs8.Enpnf7sO5d3aZd6tjcZYLcaOL.6f0uVyr.tvXOq"], ["confirmed_at", "2015-11-05 03:43:27.293216"], ["authentication_token", "PgiJRg7BjP3NvMG-wex2"], ["created_at", "2015-11-05 03:43:27.295701"], ["updated_at", "2015-11-05 03:43:27.295701"]]
  [1m[35m (10.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test3' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #3' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #3"], ["subdomain", "test3"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:27.309449"], ["updated_at", "2015-11-05 03:43:27.309449"]]
  [1m[36m (5.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:27.317068"], ["updated_at", "2015-11-05 03:43:27.317068"]]
  [1m[35m (5.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test5@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "TVsgeNXHxQPspbqu6W9r"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test5@example.com"], ["encrypted_password", "$2a$04$Bw6VqMDNpgwucurrfIYx2ON220GGbb19W45NY1dL7hBf9Id6g/iw6"], ["confirmed_at", "2015-11-05 03:43:27.325220"], ["authentication_token", "TVsgeNXHxQPspbqu6W9r"], ["created_at", "2015-11-05 03:43:27.327044"], ["updated_at", "2015-11-05 03:43:27.327044"]]
  [1m[36m (6.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test4' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #4' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #4"], ["subdomain", "test4"], ["owner_id", 2], ["created_at", "2015-11-05 03:43:27.336612"], ["updated_at", "2015-11-05 03:43:27.336612"]]
  [1m[35m (4.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-05 03:43:27.343934"], ["updated_at", "2015-11-05 03:43:27.343934"]]
  [1m[36m (6.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["name", "Account A's Thing"], ["created_at", "2015-11-05 03:43:27.351756"], ["updated_at", "2015-11-05 03:43:27.351756"]]
  [1m[35m (6.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["name", "Account B's Thing"], ["created_at", "2015-11-05 03:43:27.359795"], ["updated_at", "2015-11-05 03:43:27.359795"]]
  [1m[36m (6.2ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test4@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test4@example.com"]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 03:43:27.382294"], ["current_sign_in_at", "2015-11-05 03:43:27.382294"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 03:43:27.382957"], ["id", 1]]
  [1m[36m (6.0ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 6.3ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.2ms)
Started GET "/things" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test3"]]
Processing by ThingsController#index as HTML
  [1m[36mThing Load (0.1ms)[0m  [1mSELECT "things".* FROM "things" WHERE "things"."account_id" = ?[0m  [["account_id", 1]]
  Rendered things/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.1ms)
  [1m[35m (8.8ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test7@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "aiev9u_ksWr3bvdrZ_91"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test7@example.com"], ["encrypted_password", "$2a$04$M4wT7ICpjJBaH8oOkJ1KaOElhjsohaq5camYtNOgomVChntFpB44a"], ["confirmed_at", "2015-11-05 03:43:27.504636"], ["authentication_token", "aiev9u_ksWr3bvdrZ_91"], ["created_at", "2015-11-05 03:43:27.506916"], ["updated_at", "2015-11-05 03:43:27.506916"]]
  [1m[35m (7.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test5' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #5' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #5"], ["subdomain", "test5"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:27.518121"], ["updated_at", "2015-11-05 03:43:27.518121"]]
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:27.527238"], ["updated_at", "2015-11-05 03:43:27.527238"]]
  [1m[35m (6.4ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test7@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test7@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-05 03:43:27.591459"], ["current_sign_in_at", "2015-11-05 03:43:27.591459"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 03:43:27.592190"], ["id", 1]]
  [1m[35m (5.0ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 5.4ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[36m (10.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Mtdevise::AccountsController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (10.0ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'orbanbotond@gmail.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "GzoPsmyi3ngs6EdjFXJX"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "orbanbotond@gmail.com"], ["encrypted_password", "$2a$04$uYH8/M5GZz2kJAPLzWAe1utEP59q92ejsh5zBKrJWE7..D4FzatFy"], ["confirmed_at", "2015-11-05 03:43:27.762075"], ["authentication_token", "GzoPsmyi3ngs6EdjFXJX"], ["created_at", "2015-11-05 03:43:27.764402"], ["updated_at", "2015-11-05 03:43:27.764402"]]
  [1m[36m (5.1ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"orbanbotond@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "orbanbotond@gmail.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 03:43:27.784799"], ["current_sign_in_at", "2015-11-05 03:43:27.784799"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 03:43:27.785509"], ["id", 1]]
  [1m[36m (6.2ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 6.6ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
Redirected to http://example.com/accounts
Filter chain halted as :redirect_logged_in_users_to_account_page rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (9.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (4.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (1.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (5.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.0ms)
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.5ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (4.8ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test9@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "esJzHwenujg8Rx-458dj"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test9@example.com"], ["encrypted_password", "$2a$04$YnKYkQ.R4KWvfGjWFvo1WejP5negHXpMLF2lMPrAO9L8jE1CuOqMO"], ["confirmed_at", "2015-11-05 03:43:28.008515"], ["authentication_token", "esJzHwenujg8Rx-458dj"], ["created_at", "2015-11-05 03:43:28.010727"], ["updated_at", "2015-11-05 03:43:28.010727"]]
  [1m[36m (6.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test6' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #6' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #6"], ["subdomain", "test6"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:28.020686"], ["updated_at", "2015-11-05 03:43:28.020686"]]
  [1m[35m (9.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:28.032625"], ["updated_at", "2015-11-05 03:43:28.032625"]]
  [1m[36m (5.0ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test9@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test9@example.com"]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 03:43:28.052684"], ["current_sign_in_at", "2015-11-05 03:43:28.052684"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 03:43:28.053401"], ["id", 1]]
  [1m[36m (6.9ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 13ms (ActiveRecord: 7.2ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "account"=>{"name"=>"Test", "subdomain"=>"admin"}, "commit"=>"Create Account"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 3.5ms | ActiveRecord: 0.6ms)
  [1m[35m (6.5ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.5ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (9.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test11@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "wbAnB1NxtozBz4DcumeK"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test11@example.com"], ["encrypted_password", "$2a$04$q6XZNWMzs0CtKJO.Y/Y0TucwyetxuX5zAr/TivI1.9l0kw.t.Gw66"], ["confirmed_at", "2015-11-05 03:43:28.154002"], ["authentication_token", "wbAnB1NxtozBz4DcumeK"], ["created_at", "2015-11-05 03:43:28.156297"], ["updated_at", "2015-11-05 03:43:28.156297"]]
  [1m[35m (5.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test7' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #7' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #7"], ["subdomain", "test7"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:28.164965"], ["updated_at", "2015-11-05 03:43:28.164965"]]
  [1m[36m (5.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:28.172523"], ["updated_at", "2015-11-05 03:43:28.172523"]]
  [1m[35m (4.9ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test11@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test11@example.com"]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-05 03:43:28.193311"], ["current_sign_in_at", "2015-11-05 03:43:28.193311"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 03:43:28.193976"], ["id", 1]]
  [1m[35m (6.6ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 13ms (ActiveRecord: 6.8ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "account"=>{"name"=>"Test", "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Test"], ["subdomain", "test"], ["created_at", "2015-11-05 03:43:28.222542"], ["updated_at", "2015-11-05 03:43:28.222542"]]
  [1m[36m (6.1ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 2) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 2 AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 1], ["created_at", "2015-11-05 03:43:28.232894"], ["updated_at", "2015-11-05 03:43:28.232894"]]
  [1m[35m (5.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 2) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 2 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_accounts" SET "owner_id" = ?, "updated_at" = ? WHERE "mtdevise_accounts"."id" = ?  [["owner_id", 1], ["updated_at", "2015-11-05 03:43:28.241451"], ["id", 2]]
  [1m[36m (6.9ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Load (0.2ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 2]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 2], ["created_at", "2015-11-05 03:43:28.258857"], ["updated_at", "2015-11-05 03:43:28.258857"]]
  [1m[36m (6.9ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.2ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[35m (6.5ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 66ms (ActiveRecord: 34.9ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.2ms)
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (9.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test13@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "xTiL44AnsUVoEU8CaHpw"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test13@example.com"], ["encrypted_password", "$2a$04$uPyfRpN/6PL143suXYUMZubktG8pUZzZmOsqr2pIrB122ORLTWp0C"], ["confirmed_at", "2015-11-05 03:43:28.360562"], ["authentication_token", "xTiL44AnsUVoEU8CaHpw"], ["created_at", "2015-11-05 03:43:28.362641"], ["updated_at", "2015-11-05 03:43:28.362641"]]
  [1m[36m (6.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test8' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #8' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #8"], ["subdomain", "test8"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:28.372212"], ["updated_at", "2015-11-05 03:43:28.372212"]]
  [1m[35m (5.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:28.379954"], ["updated_at", "2015-11-05 03:43:28.379954"]]
  [1m[36m (6.7ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test13@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test13@example.com"]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 03:43:28.401905"], ["current_sign_in_at", "2015-11-05 03:43:28.401905"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 03:43:28.402603"], ["id", 1]]
  [1m[36m (6.4ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 6.7ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "account"=>{"name"=>"Test", "subdomain"=>"test8"}, "commit"=>"Create Account"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test8' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test8' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.5ms | ActiveRecord: 0.6ms)
  [1m[35m (8.5ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test15@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "V3cXtxM5q_fk9QNLzdCc"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test15@example.com"], ["encrypted_password", "$2a$04$Uj5VB5ZIHWHAN2dH1r2ZWOMFETP8ODAYJf4N8zArQ4r.x2mEgPFke"], ["confirmed_at", "2015-11-05 03:43:28.500493"], ["authentication_token", "V3cXtxM5q_fk9QNLzdCc"], ["created_at", "2015-11-05 03:43:28.502551"], ["updated_at", "2015-11-05 03:43:28.502551"]]
  [1m[35m (6.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test9' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #9' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #9"], ["subdomain", "test9"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:28.512482"], ["updated_at", "2015-11-05 03:43:28.512482"]]
  [1m[36m (5.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:28.520422"], ["updated_at", "2015-11-05 03:43:28.520422"]]
  [1m[35m (5.3ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test15@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test15@example.com"]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-05 03:43:28.540620"], ["current_sign_in_at", "2015-11-05 03:43:28.540620"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 03:43:28.541310"], ["id", 1]]
  [1m[35m (7.6ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 13ms (ActiveRecord: 7.9ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "account"=>{"name"=>"Test", "subdomain"=>"<admin>"}, "commit"=>"Create Account"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.4ms | ActiveRecord: 0.5ms)
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.6ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (9.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test17@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "SLPcJB71_awP5SKLFQ_z"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test17@example.com"], ["encrypted_password", "$2a$04$UjIu6XRr7JNePZh6iPwwQ.SPqiUrlm69posHvbU7FSy4szD.VoXLu"], ["confirmed_at", "2015-11-05 03:43:28.680350"], ["authentication_token", "SLPcJB71_awP5SKLFQ_z"], ["created_at", "2015-11-05 03:43:28.682456"], ["updated_at", "2015-11-05 03:43:28.682456"]]
  [1m[36m (7.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test10' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #10' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #10"], ["subdomain", "test10"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:28.692505"], ["updated_at", "2015-11-05 03:43:28.692505"]]
  [1m[35m (4.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:28.699887"], ["updated_at", "2015-11-05 03:43:28.699887"]]
  [1m[36m (6.2ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test10"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test10"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test10"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test17@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::Account Load (0.2ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1[0m  [["subdomain", "test10"]]
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1  [["account_id", 1], ["email", "test17@example.com"]]
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.4ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test17@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (8.7ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test18@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "-z3xztG2DaxzQx5Uggz7"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test18@example.com"], ["encrypted_password", "$2a$04$8V8V3Gcl4o/oW5qcF3.siekifNcc1cDfnikT7DGYv4HUQ5kCJaCwC"], ["confirmed_at", "2015-11-05 03:43:28.798642"], ["authentication_token", "-z3xztG2DaxzQx5Uggz7"], ["created_at", "2015-11-05 03:43:28.800756"], ["updated_at", "2015-11-05 03:43:28.800756"]]
  [1m[36m (5.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test11' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #11' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #11"], ["subdomain", "test11"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:28.809473"], ["updated_at", "2015-11-05 03:43:28.809473"]]
  [1m[35m (5.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:28.817177"], ["updated_at", "2015-11-05 03:43:28.817177"]]
  [1m[36m (5.5ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test11"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test11"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test11"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"foo@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1[0m  [["subdomain", "test11"]]
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1  [["account_id", 1], ["email", "foo@example.com"]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"foo@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[36m (9.0ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test19@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "Bu3i673v_d7asBbYsZj5"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test19@example.com"], ["encrypted_password", "$2a$04$a5xg3fJ/.FCXpaOgRORnCuhCCf6fdfu.ASh.iiiTnGQG6VDOiWLeS"], ["confirmed_at", "2015-11-05 03:43:28.909522"], ["authentication_token", "Bu3i673v_d7asBbYsZj5"], ["created_at", "2015-11-05 03:43:28.911538"], ["updated_at", "2015-11-05 03:43:28.911538"]]
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test12' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #12' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #12"], ["subdomain", "test12"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:28.921204"], ["updated_at", "2015-11-05 03:43:28.921204"]]
  [1m[35m (5.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:28.928915"], ["updated_at", "2015-11-05 03:43:28.928915"]]
  [1m[36m (5.2ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test12"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test12"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test12"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test19@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1[0m  [["subdomain", "test12"]]
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1  [["account_id", 1], ["email", "test19@example.com"]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 03:43:28.952427"], ["current_sign_in_at", "2015-11-05 03:43:28.952427"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 03:43:28.953143"], ["id", 1]]
  [1m[36m (8.7ms)[0m  [1mcommit transaction[0m
Redirected to http://test12.example.com/
Completed 302 Found in 15ms (ActiveRecord: 9.0ms)
Started GET "/" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test12"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/dashboard/index.html.erb within layouts/mtdevise/dashboard (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_header.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.1ms)
  [1m[35m (5.1ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.4ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test20@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "4vTC2G-HuBBzqgsNMuxE"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test20@example.com"], ["encrypted_password", "$2a$04$3KMVSOethY5trJrBjYXRxO2ASzrVKk/SUV48uP6mhFka/D5CpvMwm"], ["confirmed_at", "2015-11-05 03:43:29.032809"], ["authentication_token", "4vTC2G-HuBBzqgsNMuxE"], ["created_at", "2015-11-05 03:43:29.034796"], ["updated_at", "2015-11-05 03:43:29.034796"]]
  [1m[35m (8.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test13' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #13' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #13"], ["subdomain", "test13"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:29.046633"], ["updated_at", "2015-11-05 03:43:29.046633"]]
  [1m[36m (6.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:29.055923"], ["updated_at", "2015-11-05 03:43:29.055923"]]
  [1m[35m (10.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test21@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "sMsgCsjZkjQSPa3qc9NU"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test21@example.com"], ["encrypted_password", "$2a$04$QmYPcZuHDuqxzj2coTNSN.UwT3fBNJWUNSGmJs9t/O7hQf1ib0TfK"], ["confirmed_at", "2015-11-05 03:43:29.068880"], ["authentication_token", "sMsgCsjZkjQSPa3qc9NU"], ["created_at", "2015-11-05 03:43:29.070654"], ["updated_at", "2015-11-05 03:43:29.070654"]]
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test14' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #14' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #14"], ["subdomain", "test14"], ["owner_id", 2], ["created_at", "2015-11-05 03:43:29.079987"], ["updated_at", "2015-11-05 03:43:29.079987"]]
  [1m[35m (6.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-05 03:43:29.088793"], ["updated_at", "2015-11-05 03:43:29.088793"]]
  [1m[36m (5.1ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-05 03:43:29 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test13"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:29 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test13"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:29 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test13"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test21@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1[0m  [["subdomain", "test13"]]
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1  [["account_id", 1], ["email", "test21@example.com"]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test21@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (10.7ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (8.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (4.8ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (4.5ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.5ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (8.9ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test22@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "sHkVS8poEL6b2oGes5Bc"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test22@example.com"], ["encrypted_password", "$2a$04$dAOqrgIqOKX7Fmxd7HAtbeTp2dEo6sAA10vtH40fPA0v7EZm0b5tK"], ["confirmed_at", "2015-11-05 03:43:29.385186"], ["authentication_token", "sHkVS8poEL6b2oGes5Bc"], ["created_at", "2015-11-05 03:43:29.387378"], ["updated_at", "2015-11-05 03:43:29.387378"]]
  [1m[36m (6.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test15' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #15' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #15"], ["subdomain", "test15"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:29.396866"], ["updated_at", "2015-11-05 03:43:29.396866"]]
  [1m[35m (5.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:29.404582"], ["updated_at", "2015-11-05 03:43:29.404582"]]
  [1m[36m (5.4ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:29 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:29 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test22@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test22@example.com"]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.1ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test22@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (8.9ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test23@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "rCUjuH47yVCP4YrXWzar"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test23@example.com"], ["encrypted_password", "$2a$04$Z82vCp1ko/MAV2vE3Qml/e3kPYjKnZcxdjoQ4zP.STYXliwR5IUhS"], ["confirmed_at", "2015-11-05 03:43:29.493893"], ["authentication_token", "rCUjuH47yVCP4YrXWzar"], ["created_at", "2015-11-05 03:43:29.495953"], ["updated_at", "2015-11-05 03:43:29.495953"]]
  [1m[36m (4.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test16' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #16' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #16"], ["subdomain", "test16"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:29.503767"], ["updated_at", "2015-11-05 03:43:29.503767"]]
  [1m[35m (6.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:29.512252"], ["updated_at", "2015-11-05 03:43:29.512252"]]
  [1m[36m (4.7ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:29 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:29 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test23@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test23@example.com"]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 03:43:29.531059"], ["current_sign_in_at", "2015-11-05 03:43:29.531059"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 03:43:29.531692"], ["id", 1]]
  [1m[36m (4.8ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 10ms (ActiveRecord: 5.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 03:43:29 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[35m (5.7ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (4.7ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (10.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.9ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"something", "subdomain"=>"something", "owner_attributes"=>{"email"=>"bb@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'bb@gmail.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'something' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "wUxSkx3tYyUsoESWBPwt"]]
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["confirmation_token", "f7e079aa54f4e4675c091f06bfef8c509986a314aeeae4e54348665f5b0b8427"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["email", "bb@gmail.com"], ["encrypted_password", "$2a$04$NZrRiOk12IxdNSj0TPb8b.pJ6GGE4SxBFG1tlS9RPvKCcGVkpynkm"], ["authentication_token", "wUxSkx3tYyUsoESWBPwt"], ["created_at", "2015-11-05 03:43:29.654527"], ["updated_at", "2015-11-05 03:43:29.654527"], ["confirmation_token", "QrynVZPUEyg2hzyXmLyA"], ["confirmation_sent_at", "2015-11-05 03:43:29.842011"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.7ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 214.9ms

Sent mail to bb@gmail.com (7.9ms)
Date: Thu, 05 Nov 2015 03:43:30 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: bb@gmail.com
Message-ID: <563ad062114ec_588ff233349859d@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome bb@gmail.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=QrynVZPUEyg2hzyXmLyA">Confirm my account</a></p>
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "something"], ["subdomain", "something"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:30.074459"], ["updated_at", "2015-11-05 03:43:30.074459"]]
  [1m[35m (7.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:30.084931"], ["updated_at", "2015-11-05 03:43:30.084931"]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["confirmed_at", "2015-11-05 03:43:30.093603"], ["updated_at", "2015-11-05 03:43:30.094005"], ["id", 1]]
  [1m[35m (6.3ms)[0m  commit transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'something' AND "mtdevise_accounts"."id" != 1) LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-05 03:43:30.104273"], ["updated_at", "2015-11-05 03:43:30.104273"]]
  [1m[35m (5.2ms)[0m  commit transaction
  [1m[36mMtdevise::Role Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)  [["user_id", 1], ["role_id", 1]]
  [1m[36m (5.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-05 03:43:30.119838"], ["current_sign_in_at", "2015-11-05 03:43:30.119838"], ["last_sign_in_ip", "0.0.0.0"], ["current_sign_in_ip", "0.0.0.0"], ["sign_in_count", 1], ["updated_at", "2015-11-05 03:43:30.120346"], ["id", 1]]
  [1m[35m (5.0ms)[0m  commit transaction
Redirected to http://something.test.host/
Completed 302 Found in 479ms (ActiveRecord: 39.4ms)
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts"  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.2ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND ((((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type IS NULL) AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id = 1))))[0m  [["user_id", 1]]
  [1m[35m (4.9ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (4.8ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.8ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"something", "subdomain"=>"something", "owner_attributes"=>{"email"=>"bb@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'bb@gmail.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'something' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "2Hz5-sLj2_gzh1_yqkrJ"]]
  [1m[36mMtdevise::User Load (0.0ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["confirmation_token", "1412247d5357b6119c51cda151be2e0424477ff63fe50afa4b477b3286d1318f"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["email", "bb@gmail.com"], ["encrypted_password", "$2a$04$WdEb8fyfAeJBW4GlmPcyZ.1R5zHZiYabrh54//yvT.b8xfBaVB9Oa"], ["authentication_token", "2Hz5-sLj2_gzh1_yqkrJ"], ["created_at", "2015-11-05 03:43:30.196319"], ["updated_at", "2015-11-05 03:43:30.196319"], ["confirmation_token", "traE1F5fBwLex3oHY5Mh"], ["confirmation_sent_at", "2015-11-05 03:43:30.197037"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.3ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.5ms

Sent mail to bb@gmail.com (2.3ms)
Date: Thu, 05 Nov 2015 03:43:30 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: bb@gmail.com
Message-ID: <563ad062310c7_588ff2333498628@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome bb@gmail.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=traE1F5fBwLex3oHY5Mh">Confirm my account</a></p>
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "something"], ["subdomain", "something"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:30.202366"], ["updated_at", "2015-11-05 03:43:30.202366"]]
  [1m[35m (6.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:30.211158"], ["updated_at", "2015-11-05 03:43:30.211158"]]
  [1m[36m (6.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["confirmed_at", "2015-11-05 03:43:30.218234"], ["updated_at", "2015-11-05 03:43:30.218623"], ["id", 1]]
  [1m[35m (6.4ms)[0m  commit transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'something' AND "mtdevise_accounts"."id" != 1) LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-05 03:43:30.228663"], ["updated_at", "2015-11-05 03:43:30.228663"]]
  [1m[35m (5.0ms)[0m  commit transaction
  [1m[36mMtdevise::Role Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)  [["user_id", 1], ["role_id", 1]]
  [1m[36m (5.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-05 03:43:30.243770"], ["current_sign_in_at", "2015-11-05 03:43:30.243770"], ["last_sign_in_ip", "0.0.0.0"], ["current_sign_in_ip", "0.0.0.0"], ["sign_in_count", 1], ["updated_at", "2015-11-05 03:43:30.244252"], ["id", 1]]
  [1m[35m (4.7ms)[0m  commit transaction
Redirected to http://something.test.host/
Completed 302 Found in 60ms (ActiveRecord: 35.8ms)
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts"  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND ((((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type IS NULL) AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id = 1))))[0m  [["user_id", 1]]
  [1m[35m (6.2ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (4.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.5ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (9.5ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (5.8ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'user@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "753iWYUV3TCnP4Dy3Pyf"]]
  [1m[36mMtdevise::User Load (0.0ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["confirmation_token", "8c46626a7f962b43fd5d8fdc624515ea1892549fe66d22e13facf6d23ba259ad"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["email", "user@example.com"], ["encrypted_password", "$2a$04$xpTow6sXSJzZTbxCyEoqr.B2VXwuLfN/70igrDojSxlrx.02SOjvm"], ["authentication_token", "753iWYUV3TCnP4Dy3Pyf"], ["created_at", "2015-11-05 03:43:30.359286"], ["updated_at", "2015-11-05 03:43:30.359286"], ["confirmation_token", "5-e-eg7Dj1_MnMwM5A-W"], ["confirmation_sent_at", "2015-11-05 03:43:30.359951"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.3ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.5ms

Sent mail to user@example.com (2.2ms)
Date: Thu, 05 Nov 2015 03:43:30 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: user@example.com
Message-ID: <563ad06258d36_588ff233349877a@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome user@example.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=5-e-eg7Dj1_MnMwM5A-W">Confirm my account</a></p>
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account"], ["subdomain", "test"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:30.365237"], ["updated_at", "2015-11-05 03:43:30.365237"]]
  [1m[35m (4.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:30.372484"], ["updated_at", "2015-11-05 03:43:30.372484"]]
  [1m[36m (5.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["confirmed_at", "2015-11-05 03:43:30.378415"], ["updated_at", "2015-11-05 03:43:30.378812"], ["id", 1]]
  [1m[35m (5.9ms)[0m  commit transaction
  [1m[36mMtdevise::User Load (0.3ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["account_id", 1]]
  [1m[35m (5.8ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (9.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (4.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.8ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.4ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"admin"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 4.7ms | ActiveRecord: 0.7ms)
  [1m[35m (4.8ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test25@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "ddhrYoMB5qoqsEcts7MP"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test25@example.com"], ["encrypted_password", "$2a$04$Oz1DMH13MM4ZmbwW1.0bgunLokZmR9EdnVBwIo1rkfGRoOte445WG"], ["confirmed_at", "2015-11-05 03:43:30.555023"], ["authentication_token", "ddhrYoMB5qoqsEcts7MP"], ["created_at", "2015-11-05 03:43:30.557304"], ["updated_at", "2015-11-05 03:43:30.557304"]]
  [1m[35m (4.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test17' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #17' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #17"], ["subdomain", "test17"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:30.565388"], ["updated_at", "2015-11-05 03:43:30.565388"]]
  [1m[36m (4.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:30.572674"], ["updated_at", "2015-11-05 03:43:30.572674"]]
  [1m[35m (4.7ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "account"=>{"name"=>"another name", "owner_attributes"=>{"email"=>"test25@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"anothersubdomain"}, "commit"=>"Create Account"}
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test25@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'anothersubdomain' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'another name' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test25@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'anothersubdomain' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'another name' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 4.6ms | ActiveRecord: 0.7ms)
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (4.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (4.7ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"<admin>"}, "commit"=>"Create Account"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 4.6ms | ActiveRecord: 0.7ms)
  [1m[36m (4.8ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (10.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("subdomain", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["subdomain", "test"], ["name", "Test"], ["created_at", "2015-11-05 03:43:30.740286"], ["updated_at", "2015-11-05 03:43:30.740286"]]
  [1m[36m (5.1ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (1.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 5.4ms | ActiveRecord: 0.7ms)
  [1m[35m (5.1ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (4.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (9.7ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "iFjr6_De8yyzyxmKRv7U"]]
  [1m[36mMtdevise::User Load (0.0ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["confirmation_token", "904f45c4712f60bf5a3bb2c660c163ef2634bb67d41dd098c7ce9c2794dbfb94"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["email", "mtdevise@example.com"], ["encrypted_password", "$2a$04$0squdrAw5GOnFgqRguyUs.GoZmeuCYxMlsTWZzzmo2/usSxZsM9uW"], ["authentication_token", "iFjr6_De8yyzyxmKRv7U"], ["created_at", "2015-11-05 03:43:30.850633"], ["updated_at", "2015-11-05 03:43:30.850633"], ["confirmation_token", "kqJCzeznpcJxMzQxxQ9-"], ["confirmation_sent_at", "2015-11-05 03:43:30.851308"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.2ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.4ms

Sent mail to mtdevise@example.com (2.3ms)
Date: Thu, 05 Nov 2015 03:43:30 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: mtdevise@example.com
Message-ID: <563ad062d0c1a_588ff2333498819@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome mtdevise@example.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=kqJCzeznpcJxMzQxxQ9-">Confirm my account</a></p>
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test"], ["subdomain", "test"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:30.856530"], ["updated_at", "2015-11-05 03:43:30.856530"]]
  [1m[35m (5.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:30.864116"], ["updated_at", "2015-11-05 03:43:30.864116"]]
  [1m[36m (4.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["confirmed_at", "2015-11-05 03:43:30.869751"], ["updated_at", "2015-11-05 03:43:30.870159"], ["id", 1]]
  [1m[35m (7.1ms)[0m  commit transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 1) LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-05 03:43:30.881181"], ["updated_at", "2015-11-05 03:43:30.881181"]]
  [1m[35m (5.3ms)[0m  commit transaction
  [1m[36mMtdevise::Role Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)  [["user_id", 1], ["role_id", 1]]
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-05 03:43:30.897951"], ["current_sign_in_at", "2015-11-05 03:43:30.897951"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 03:43:30.898554"], ["id", 1]]
  [1m[35m (6.0ms)[0m  commit transaction
Redirected to http://test.example.com/
Completed 302 Found in 61ms (ActiveRecord: 36.6ms)
Started GET "/" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/dashboard/index.html.erb within layouts/mtdevise/dashboard (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_header.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[36m (10.9ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'orbanbotond@gmail.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "wG1juiMtoKTK7jX7LUYq"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "orbanbotond@gmail.com"], ["encrypted_password", "$2a$04$mFIzCsYeVFgolq2MO2aSp.HufOGVLmhtMjs.IHpU94bom4mVk6uFe"], ["confirmed_at", "2015-11-05 03:43:30.981307"], ["authentication_token", "wG1juiMtoKTK7jX7LUYq"], ["created_at", "2015-11-05 03:43:30.983289"], ["updated_at", "2015-11-05 03:43:30.983289"]]
  [1m[36m (6.7ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:31 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"orbanbotond@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "orbanbotond@gmail.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 03:43:31.004323"], ["current_sign_in_at", "2015-11-05 03:43:31.004323"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 03:43:31.004919"], ["id", 1]]
  [1m[36m (5.1ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 11ms (ActiveRecord: 5.4ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 03:43:31 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.1ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-05 03:43:31 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
Redirected to http://example.com/accounts
Filter chain halted as :redirect_if_coming_form_sign_up rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 03:43:31 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (5.8ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (10.1ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test1@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "9aMdvypcXhd27sve-Unx"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test1@example.com"], ["encrypted_password", "$2a$04$z6KlhusS8vLTvPxhN42y9eYnl2qQzzepXdvavwy1eVjYWYEdicmWm"], ["confirmed_at", "2015-11-05 04:52:34.491472"], ["authentication_token", "9aMdvypcXhd27sve-Unx"], ["created_at", "2015-11-05 04:52:34.510353"], ["updated_at", "2015-11-05 04:52:34.510353"]]
  [1m[35m (6.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test1' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #1' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #1"], ["subdomain", "test1"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:34.526000"], ["updated_at", "2015-11-05 04:52:34.526000"]]
  [1m[36m (6.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:34.553301"], ["updated_at", "2015-11-05 04:52:34.553301"]]
  [1m[35m (6.8ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:34 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (1.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (54.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.6ms)
Completed 200 OK in 290ms (Views: 277.5ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:34 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test1@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.3ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test1@example.com"]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-05 04:52:34.877581"], ["current_sign_in_at", "2015-11-05 04:52:34.877581"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 04:52:34.878306"], ["id", 1]]
  [1m[35m (7.1ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 27ms (ActiveRecord: 7.6ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 04:52:34 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (2.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 0.3ms)
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (8.8ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test3@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "jmx42fVDEM1rKzcNgy9X"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test3@example.com"], ["encrypted_password", "$2a$04$OAkcHgln.Fh/MbNkKOqCc.M4.r.UHH2AO1x1cqzlkBCyMv/czEhPK"], ["confirmed_at", "2015-11-05 04:52:34.973996"], ["authentication_token", "jmx42fVDEM1rKzcNgy9X"], ["created_at", "2015-11-05 04:52:34.976020"], ["updated_at", "2015-11-05 04:52:34.976020"]]
  [1m[36m (5.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test2' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #2' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #2"], ["subdomain", "test2"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:34.984228"], ["updated_at", "2015-11-05 04:52:34.984228"]]
  [1m[35m (4.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:34.991677"], ["updated_at", "2015-11-05 04:52:34.991677"]]
  [1m[36m (5.8ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:34 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:35 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test3@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test3@example.com"]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.1ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test3@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (8.5ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.6ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (4.7ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (4.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (4.8ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (4.7ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.9ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (8.8ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (4.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.9ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"something", "subdomain"=>"something", "owner_attributes"=>{"email"=>"bb@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'bb@gmail.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'something' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "SNtiVez2siag7tJDxji2"]]
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["confirmation_token", "3d4b18377898261c0a1a99c710188ce92507df245fdc3d25c0da6384d06c4d4d"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "bb@gmail.com"], ["encrypted_password", "$2a$04$gYn7o.NZvE0ZgEHfm6rKB.tNEcKAqohdtQdzhbnXHI7IyHsGdGmM."], ["authentication_token", "SNtiVez2siag7tJDxji2"], ["created_at", "2015-11-05 04:52:35.207591"], ["updated_at", "2015-11-05 04:52:35.207591"], ["confirmation_token", "z8eZc1tjLa1Vxs5Kxci5"], ["confirmation_sent_at", "2015-11-05 04:52:35.391424"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.7ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 165.6ms

Sent mail to bb@gmail.com (8.0ms)
Date: Thu, 05 Nov 2015 04:52:35 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: bb@gmail.com
Message-ID: <563ae0938b68c_596011e7318125be@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome bb@gmail.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=z8eZc1tjLa1Vxs5Kxci5">Confirm my account</a></p>
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "something"], ["subdomain", "something"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:35.574683"], ["updated_at", "2015-11-05 04:52:35.574683"]]
  [1m[36m (6.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:35.584475"], ["updated_at", "2015-11-05 04:52:35.584475"]]
  [1m[35m (5.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["confirmed_at", "2015-11-05 04:52:35.590816"], ["updated_at", "2015-11-05 04:52:35.591234"], ["id", 1]]
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'something' AND "mtdevise_accounts"."id" != 1) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mMtdevise::Role Load (0.2ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-05 04:52:35.615702"], ["updated_at", "2015-11-05 04:52:35.615702"]]
  [1m[36m (6.6ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.2ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[35m (5.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 04:52:35.639912"], ["current_sign_in_at", "2015-11-05 04:52:35.639912"], ["last_sign_in_ip", "0.0.0.0"], ["current_sign_in_ip", "0.0.0.0"], ["sign_in_count", 1], ["updated_at", "2015-11-05 04:52:35.640426"], ["id", 1]]
  [1m[36m (5.1ms)[0m  [1mcommit transaction[0m
Redirected to http://something.test.host/
Completed 302 Found in 446ms (ActiveRecord: 39.2ms)
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts"  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.2ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND ((((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type IS NULL) AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id = 1))))  [["user_id", 1]]
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (8.2ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"something", "subdomain"=>"something", "owner_attributes"=>{"email"=>"bb@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'bb@gmail.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'something' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "FZ4yX1_y9usPC65JP9pX"]]
  [1m[35mMtdevise::User Load (0.0ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["confirmation_token", "1fbde4d6242312ac04ace913d1507c7711e8d8eeb376d7f0e73be68f5a61bb2f"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "bb@gmail.com"], ["encrypted_password", "$2a$04$U6gtj3FC62V3sX0NIYU74OKkPgffnnPJt/hGT5crac5RW1IMt8vhC"], ["authentication_token", "FZ4yX1_y9usPC65JP9pX"], ["created_at", "2015-11-05 04:52:35.723644"], ["updated_at", "2015-11-05 04:52:35.723644"], ["confirmation_token", "cn7-sfQ8dCxNKTaZiZxs"], ["confirmation_sent_at", "2015-11-05 04:52:35.724273"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.3ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.5ms

Sent mail to bb@gmail.com (2.2ms)
Date: Thu, 05 Nov 2015 04:52:35 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: bb@gmail.com
Message-ID: <563ae093b1c56_596011e73181266e@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome bb@gmail.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=cn7-sfQ8dCxNKTaZiZxs">Confirm my account</a></p>
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "something"], ["subdomain", "something"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:35.729546"], ["updated_at", "2015-11-05 04:52:35.729546"]]
  [1m[36m (5.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:35.737319"], ["updated_at", "2015-11-05 04:52:35.737319"]]
  [1m[35m (5.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["confirmed_at", "2015-11-05 04:52:35.743608"], ["updated_at", "2015-11-05 04:52:35.744041"], ["id", 1]]
  [1m[36m (4.9ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'something' AND "mtdevise_accounts"."id" != 1) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-05 04:52:35.752588"], ["updated_at", "2015-11-05 04:52:35.752588"]]
  [1m[36m (5.2ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[35m (6.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 04:52:35.769481"], ["current_sign_in_at", "2015-11-05 04:52:35.769481"], ["last_sign_in_ip", "0.0.0.0"], ["current_sign_in_ip", "0.0.0.0"], ["sign_in_count", 1], ["updated_at", "2015-11-05 04:52:35.769982"], ["id", 1]]
  [1m[36m (8.8ms)[0m  [1mcommit transaction[0m
Redirected to http://something.test.host/
Completed 302 Found in 63ms (ActiveRecord: 37.9ms)
  [1m[35mMtdevise::Account Load (0.2ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts"  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND ((((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type IS NULL) AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id = 1))))  [["user_id", 1]]
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.5ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (4.8ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (10.3ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'orbanbotond@gmail.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "dqmz1Tq43m6yx5NmXvjo"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "orbanbotond@gmail.com"], ["encrypted_password", "$2a$04$utUt2LY3hfCJr.AArr8.reuP1smYemLQ5hJNfnpjdVqxdp/m1jtUK"], ["confirmed_at", "2015-11-05 04:52:35.888113"], ["authentication_token", "dqmz1Tq43m6yx5NmXvjo"], ["created_at", "2015-11-05 04:52:35.890407"], ["updated_at", "2015-11-05 04:52:35.890407"]]
  [1m[36m (6.4ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:35 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:35 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"orbanbotond@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "orbanbotond@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 04:52:35.911624"], ["current_sign_in_at", "2015-11-05 04:52:35.911624"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 04:52:35.912236"], ["id", 1]]
  [1m[36m (5.1ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 11ms (ActiveRecord: 5.4ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 04:52:35 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-05 04:52:35 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
Redirected to http://example.com/accounts
Filter chain halted as :redirect_if_coming_form_sign_up rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 04:52:35 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-11-05 04:52:35 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-05 04:52:35 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (1.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (5.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"admin"}, "commit"=>"Create Account"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 4.7ms | ActiveRecord: 0.7ms)
  [1m[36m (5.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.5ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("subdomain", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["subdomain", "test"], ["name", "Test"], ["created_at", "2015-11-05 04:52:36.067986"], ["updated_at", "2015-11-05 04:52:36.067986"]]
  [1m[36m (5.2ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (1.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 5.2ms | ActiveRecord: 0.7ms)
  [1m[35m (6.7ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.6ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "zFMkrgW6ktqYwW8eS5KM"]]
  [1m[36mMtdevise::User Load (0.0ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["confirmation_token", "279e2e9b695271543131de8c82d748176dc83bb626713bb3714e5ea39f78bdaf"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["email", "mtdevise@example.com"], ["encrypted_password", "$2a$04$zF3oBeFyzb5lkjAvGKSPuOeagGSq4Jz7cekDsMBDZu1LR4wUpWAEO"], ["authentication_token", "zFMkrgW6ktqYwW8eS5KM"], ["created_at", "2015-11-05 04:52:36.177232"], ["updated_at", "2015-11-05 04:52:36.177232"], ["confirmation_token", "Aw28kJn8HhLGiFexH_hd"], ["confirmation_sent_at", "2015-11-05 04:52:36.177922"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.2ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.3ms

Sent mail to mtdevise@example.com (2.4ms)
Date: Thu, 05 Nov 2015 04:52:36 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: mtdevise@example.com
Message-ID: <563ae0942c5a2_596011e7318127cb@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome mtdevise@example.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=Aw28kJn8HhLGiFexH_hd">Confirm my account</a></p>
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test"], ["subdomain", "test"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:36.183173"], ["updated_at", "2015-11-05 04:52:36.183173"]]
  [1m[35m (9.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:36.195667"], ["updated_at", "2015-11-05 04:52:36.195667"]]
  [1m[36m (6.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["confirmed_at", "2015-11-05 04:52:36.203436"], ["updated_at", "2015-11-05 04:52:36.203834"], ["id", 1]]
  [1m[35m (6.4ms)[0m  commit transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 1) LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-05 04:52:36.214110"], ["updated_at", "2015-11-05 04:52:36.214110"]]
  [1m[35m (6.7ms)[0m  commit transaction
  [1m[36mMtdevise::Role Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)  [["user_id", 1], ["role_id", 1]]
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-05 04:52:36.233353"], ["current_sign_in_at", "2015-11-05 04:52:36.233353"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 04:52:36.233947"], ["id", 1]]
  [1m[35m (6.1ms)[0m  commit transaction
Redirected to http://test.example.com/
Completed 302 Found in 70ms (ActiveRecord: 44.5ms)
Started GET "/" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/dashboard/index.html.erb within layouts/mtdevise/dashboard (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_header.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.1ms)
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (9.9ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test4@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "sZErmUwCp68cosToLqHx"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test4@example.com"], ["encrypted_password", "$2a$04$gtU5thWjoePXw.lA6vi3aeCHTWSTDPkNBowpggm9gxPtkzP.6dEWO"], ["confirmed_at", "2015-11-05 04:52:36.325612"], ["authentication_token", "sZErmUwCp68cosToLqHx"], ["created_at", "2015-11-05 04:52:36.327655"], ["updated_at", "2015-11-05 04:52:36.327655"]]
  [1m[36m (6.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test3' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #3' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #3"], ["subdomain", "test3"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:36.337545"], ["updated_at", "2015-11-05 04:52:36.337545"]]
  [1m[35m (5.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:36.345351"], ["updated_at", "2015-11-05 04:52:36.345351"]]
  [1m[36m (6.8ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "account"=>{"name"=>"another name", "owner_attributes"=>{"email"=>"test4@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"anothersubdomain"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test4@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'anothersubdomain' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'another name' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test4@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'anothersubdomain' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'another name' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 4.5ms | ActiveRecord: 0.7ms)
  [1m[35m (10.0ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"<admin>"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 4.5ms | ActiveRecord: 0.7ms)
  [1m[35m (5.5ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (8.4ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (9.9ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test5@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "WPQkR-js8W9kMTAAsArZ"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test5@example.com"], ["encrypted_password", "$2a$04$8l1jU7Ro1UIA5aM5vLaAFOsUGIWN1/i2C3Oh8QeuL.sD.cKep/KBq"], ["confirmed_at", "2015-11-05 04:52:36.613070"], ["authentication_token", "WPQkR-js8W9kMTAAsArZ"], ["created_at", "2015-11-05 04:52:36.615374"], ["updated_at", "2015-11-05 04:52:36.615374"]]
  [1m[35m (6.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test4' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #4' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #4"], ["subdomain", "test4"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:36.624938"], ["updated_at", "2015-11-05 04:52:36.624938"]]
  [1m[36m (5.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:36.632532"], ["updated_at", "2015-11-05 04:52:36.632532"]]
  [1m[35m (5.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test6@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "zBTptvBzUWUQqmDqP5df"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test6@example.com"], ["encrypted_password", "$2a$04$v094UHKFkaZxo4zK1x5fyO37SiaikrSA885SgsWLjT8g7WVMHJ5W."], ["confirmed_at", "2015-11-05 04:52:36.640522"], ["authentication_token", "zBTptvBzUWUQqmDqP5df"], ["created_at", "2015-11-05 04:52:36.642357"], ["updated_at", "2015-11-05 04:52:36.642357"]]
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test5' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #5' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #5"], ["subdomain", "test5"], ["owner_id", 2], ["created_at", "2015-11-05 04:52:36.652032"], ["updated_at", "2015-11-05 04:52:36.652032"]]
  [1m[35m (6.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-05 04:52:36.661152"], ["updated_at", "2015-11-05 04:52:36.661152"]]
  [1m[36m (4.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["name", "Account A's Thing"], ["created_at", "2015-11-05 04:52:36.670257"], ["updated_at", "2015-11-05 04:52:36.670257"]]
  [1m[35m (6.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["name", "Account B's Thing"], ["created_at", "2015-11-05 04:52:36.678098"], ["updated_at", "2015-11-05 04:52:36.678098"]]
  [1m[36m (6.3ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test5@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test5@example.com"]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 04:52:36.699859"], ["current_sign_in_at", "2015-11-05 04:52:36.699859"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 04:52:36.700485"], ["id", 1]]
  [1m[36m (10.0ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 16ms (ActiveRecord: 10.2ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
Started GET "/things" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test4"]]
Processing by ThingsController#index as HTML
  [1m[36mThing Load (0.2ms)[0m  [1mSELECT "things".* FROM "things" WHERE "things"."account_id" = ?[0m  [["account_id", 1]]
  Rendered things/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 15ms (Views: 14.5ms | ActiveRecord: 0.2ms)
  [1m[35m (5.6ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.8ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test8@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "28caA3jygB4ZC5MMPm2h"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test8@example.com"], ["encrypted_password", "$2a$04$h2frBT9/PFE/JkGWs2cSnuqDArcXl6GY4RUbUTC6fkiafec8TSVpy"], ["confirmed_at", "2015-11-05 04:52:36.801071"], ["authentication_token", "28caA3jygB4ZC5MMPm2h"], ["created_at", "2015-11-05 04:52:36.803193"], ["updated_at", "2015-11-05 04:52:36.803193"]]
  [1m[35m (9.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test6' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #6' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #6"], ["subdomain", "test6"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:36.816102"], ["updated_at", "2015-11-05 04:52:36.816102"]]
  [1m[36m (5.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:36.823817"], ["updated_at", "2015-11-05 04:52:36.823817"]]
  [1m[35m (6.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test9@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "Tk_UZx2yxHLxHSQxKbZM"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test9@example.com"], ["encrypted_password", "$2a$04$vikaCSdBf1KxfH636Xw9MOBebh3Ld3LibTJFCd0ojQ/gJupM3/Zy."], ["confirmed_at", "2015-11-05 04:52:36.833070"], ["authentication_token", "Tk_UZx2yxHLxHSQxKbZM"], ["created_at", "2015-11-05 04:52:36.834896"], ["updated_at", "2015-11-05 04:52:36.834896"]]
  [1m[36m (6.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test7' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #7' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #7"], ["subdomain", "test7"], ["owner_id", 2], ["created_at", "2015-11-05 04:52:36.844389"], ["updated_at", "2015-11-05 04:52:36.844389"]]
  [1m[35m (5.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-05 04:52:36.851757"], ["updated_at", "2015-11-05 04:52:36.851757"]]
  [1m[36m (6.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["name", "Account A's Thing"], ["created_at", "2015-11-05 04:52:36.859875"], ["updated_at", "2015-11-05 04:52:36.859875"]]
  [1m[35m (6.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["name", "Account B's Thing"], ["created_at", "2015-11-05 04:52:36.868064"], ["updated_at", "2015-11-05 04:52:36.868064"]]
  [1m[36m (6.4ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test9@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test9@example.com"]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 04:52:36.889566"], ["current_sign_in_at", "2015-11-05 04:52:36.889566"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 04:52:36.890256"], ["id", 2]]
  [1m[36m (6.9ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 13ms (ActiveRecord: 7.2ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 2]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
Started GET "/things" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test7"]]
Processing by ThingsController#index as HTML
  [1m[36mThing Load (0.1ms)[0m  [1mSELECT "things".* FROM "things" WHERE "things"."account_id" = ?[0m  [["account_id", 2]]
  Rendered things/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.1ms)
  [1m[35m (9.7ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.6ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.7ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.9ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (4.7ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test11@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "xjQR3bJzvgkQrfypXyny"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test11@example.com"], ["encrypted_password", "$2a$04$fSkgxoRBsD64MVOnl.HipOlVJS1.D/4uU6oIOfqLPMmRxMCPK0DqS"], ["confirmed_at", "2015-11-05 04:52:37.014467"], ["authentication_token", "xjQR3bJzvgkQrfypXyny"], ["created_at", "2015-11-05 04:52:37.016614"], ["updated_at", "2015-11-05 04:52:37.016614"]]
  [1m[35m (5.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test8' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #8' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #8"], ["subdomain", "test8"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:37.024807"], ["updated_at", "2015-11-05 04:52:37.024807"]]
  [1m[36m (5.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:37.032785"], ["updated_at", "2015-11-05 04:52:37.032785"]]
  [1m[35m (5.4ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test11@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test11@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-05 04:52:37.053802"], ["current_sign_in_at", "2015-11-05 04:52:37.053802"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 04:52:37.054529"], ["id", 1]]
  [1m[35m (6.4ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 6.7ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (9.4ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
Processing by Mtdevise::AccountsController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 18ms (Views: 16.8ms | ActiveRecord: 0.0ms)
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.2ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (5.9ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (9.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (4.8ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (10.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'orbanbotond@gmail.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "Fbp-zNShUydf5T-VhS9S"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "orbanbotond@gmail.com"], ["encrypted_password", "$2a$04$0Pgoqjsw5FGHtGc7g1T/YeXkqT2SY6T/w1YdWvtHQDmgIzFEPlS7m"], ["confirmed_at", "2015-11-05 04:52:37.345019"], ["authentication_token", "Fbp-zNShUydf5T-VhS9S"], ["created_at", "2015-11-05 04:52:37.347313"], ["updated_at", "2015-11-05 04:52:37.347313"]]
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (3.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"orbanbotond@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "orbanbotond@gmail.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 04:52:37.375203"], ["current_sign_in_at", "2015-11-05 04:52:37.375203"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 04:52:37.375881"], ["id", 1]]
  [1m[36m (5.0ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 11ms (ActiveRecord: 5.6ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
Redirected to http://example.com/accounts
Filter chain halted as :redirect_logged_in_users_to_account_page rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (9.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'user@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "Ekwyu6sZ3vHjXMjqNQz6"]]
  [1m[35mMtdevise::User Load (0.0ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["confirmation_token", "4895659c19edc47ca8c64495681a61d1cdeb55e796ca8b8b9505df55e3387775"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user@example.com"], ["encrypted_password", "$2a$04$EvqyLPwP0M1CkTdjcfICdunwjGqbdZFGKu0CoJvd.3j5cCEKAwXAu"], ["authentication_token", "Ekwyu6sZ3vHjXMjqNQz6"], ["created_at", "2015-11-05 04:52:37.489394"], ["updated_at", "2015-11-05 04:52:37.489394"], ["confirmation_token", "5XrzNPKVsYxqMdsVx_9E"], ["confirmation_sent_at", "2015-11-05 04:52:37.490084"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.3ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.6ms

Sent mail to user@example.com (2.4ms)
Date: Thu, 05 Nov 2015 04:52:37 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: user@example.com
Message-ID: <563ae09578a9e_596011e7318128f2@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome user@example.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=5XrzNPKVsYxqMdsVx_9E">Confirm my account</a></p>
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account"], ["subdomain", "test"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:37.495723"], ["updated_at", "2015-11-05 04:52:37.495723"]]
  [1m[36m (6.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:37.504621"], ["updated_at", "2015-11-05 04:52:37.504621"]]
  [1m[35m (4.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["confirmed_at", "2015-11-05 04:52:37.510612"], ["updated_at", "2015-11-05 04:52:37.511046"], ["id", 1]]
  [1m[36m (6.1ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::User Load (0.3ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["account_id", 1]]
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (8.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.6ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (4.7ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (5.6ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test13@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "9QAJoPR3uYkA8mkHTgLt"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test13@example.com"], ["encrypted_password", "$2a$04$REV93Ubto9SRkywYDU6sU.RDzv5QQF3aJp5DIMs6JqYpPwQ.9uWqK"], ["confirmed_at", "2015-11-05 04:52:37.613570"], ["authentication_token", "9QAJoPR3uYkA8mkHTgLt"], ["created_at", "2015-11-05 04:52:37.615899"], ["updated_at", "2015-11-05 04:52:37.615899"]]
  [1m[36m (5.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test9' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #9' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #9"], ["subdomain", "test9"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:37.624326"], ["updated_at", "2015-11-05 04:52:37.624326"]]
  [1m[35m (5.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (5.6ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:37.632151"], ["updated_at", "2015-11-05 04:52:37.632151"]]
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test9"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test9"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test9"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test13@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::Account Load (0.2ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1[0m  [["subdomain", "test9"]]
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1  [["account_id", 1], ["email", "test13@example.com"]]
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.4ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test13@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test14@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "AQqEvWPtvX5FKQk9sLai"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test14@example.com"], ["encrypted_password", "$2a$04$TLqfOONyJNzT.7BHpXUEJumVuceO1qQqdAmZA85KRAdxJzEaj6mWm"], ["confirmed_at", "2015-11-05 04:52:37.730136"], ["authentication_token", "AQqEvWPtvX5FKQk9sLai"], ["created_at", "2015-11-05 04:52:37.732490"], ["updated_at", "2015-11-05 04:52:37.732490"]]
  [1m[36m (8.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test10' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #10' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #10"], ["subdomain", "test10"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:37.744565"], ["updated_at", "2015-11-05 04:52:37.744565"]]
  [1m[35m (5.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:37.752103"], ["updated_at", "2015-11-05 04:52:37.752103"]]
  [1m[36m (5.0ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test10"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test10"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test10"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test14@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1[0m  [["subdomain", "test10"]]
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1  [["account_id", 1], ["email", "test14@example.com"]]
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 04:52:37.780028"], ["current_sign_in_at", "2015-11-05 04:52:37.780028"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 04:52:37.781059"], ["id", 1]]
  [1m[36m (4.8ms)[0m  [1mcommit transaction[0m
Redirected to http://test10.example.com/
Completed 302 Found in 13ms (ActiveRecord: 5.4ms)
Started GET "/" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test10"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/dashboard/index.html.erb within layouts/mtdevise/dashboard (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_header.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.1ms)
  [1m[35m (4.8ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (4.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (9.9ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test15@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "iULqx34YapH6WxGTA1H6"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test15@example.com"], ["encrypted_password", "$2a$04$cmOMn8H3BF7EL.dj9Psi9OcMJK7/QU9Ar2o1oAjUw0ZDgQcUyOnYW"], ["confirmed_at", "2015-11-05 04:52:37.854651"], ["authentication_token", "iULqx34YapH6WxGTA1H6"], ["created_at", "2015-11-05 04:52:37.856836"], ["updated_at", "2015-11-05 04:52:37.856836"]]
  [1m[35m (5.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test11' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #11' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #11"], ["subdomain", "test11"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:37.865456"], ["updated_at", "2015-11-05 04:52:37.865456"]]
  [1m[36m (4.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:37.872886"], ["updated_at", "2015-11-05 04:52:37.872886"]]
  [1m[35m (5.4ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test11"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test11"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test11"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"foo@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1  [["subdomain", "test11"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1[0m  [["account_id", 1], ["email", "foo@example.com"]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"foo@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (5.0ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (4.7ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (4.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (9.5ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test16@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "m4wMdRC3Hxydnzoxrmy3"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test16@example.com"], ["encrypted_password", "$2a$04$B3IoVrGx/YeEKB5WNLBuceIQF9w/sC/Ons6hw79qM33CLr2m0Oz9C"], ["confirmed_at", "2015-11-05 04:52:37.961531"], ["authentication_token", "m4wMdRC3Hxydnzoxrmy3"], ["created_at", "2015-11-05 04:52:37.963766"], ["updated_at", "2015-11-05 04:52:37.963766"]]
  [1m[35m (7.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test12' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #12' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #12"], ["subdomain", "test12"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:37.974514"], ["updated_at", "2015-11-05 04:52:37.974514"]]
  [1m[36m (6.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:37.983314"], ["updated_at", "2015-11-05 04:52:37.983314"]]
  [1m[35m (6.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test17@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "yEtw7LcDsy_Z2_Nra4uN"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test17@example.com"], ["encrypted_password", "$2a$04$FRwvXdxyxnknEpNqQDgrJezTnTvj9pluZIjhhXKTF7zQIDyCUbgjq"], ["confirmed_at", "2015-11-05 04:52:37.992845"], ["authentication_token", "yEtw7LcDsy_Z2_Nra4uN"], ["created_at", "2015-11-05 04:52:37.994746"], ["updated_at", "2015-11-05 04:52:37.994746"]]
  [1m[36m (6.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test13' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #13' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #13"], ["subdomain", "test13"], ["owner_id", 2], ["created_at", "2015-11-05 04:52:38.004191"], ["updated_at", "2015-11-05 04:52:38.004191"]]
  [1m[35m (4.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-05 04:52:38.011606"], ["updated_at", "2015-11-05 04:52:38.011606"]]
  [1m[36m (6.1ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test12"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test12"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test12"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test17@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1[0m  [["subdomain", "test12"]]
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1  [["account_id", 1], ["email", "test17@example.com"]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test17@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[36m (10.2ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (4.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.8ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (9.5ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test18@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "Nj_34LDnN8cM_xaVusVk"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test18@example.com"], ["encrypted_password", "$2a$04$GaJUOnT/tUrQ7Zbxtm2vTOxodHd.RnQGBFhUjkWPoeN.Sl6DG0WBa"], ["confirmed_at", "2015-11-05 04:52:38.181388"], ["authentication_token", "Nj_34LDnN8cM_xaVusVk"], ["created_at", "2015-11-05 04:52:38.183660"], ["updated_at", "2015-11-05 04:52:38.183660"]]
  [1m[36m (6.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test14' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #14' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #14"], ["subdomain", "test14"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:38.193200"], ["updated_at", "2015-11-05 04:52:38.193200"]]
  [1m[35m (5.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:38.200994"], ["updated_at", "2015-11-05 04:52:38.200994"]]
  [1m[36m (4.8ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test18@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test18@example.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 04:52:38.222355"], ["current_sign_in_at", "2015-11-05 04:52:38.222355"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 04:52:38.223124"], ["id", 1]]
  [1m[36m (6.7ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 13ms (ActiveRecord: 7.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "account"=>{"name"=>"Test", "subdomain"=>"<admin>"}, "commit"=>"Create Account"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.7ms | ActiveRecord: 0.6ms)
  [1m[35m (5.1ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (4.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test20@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "uQmkuNoAvvASZ3kLjmUN"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test20@example.com"], ["encrypted_password", "$2a$04$8KGmYWDbq1sldY0WpoHJneeeHJo3i82wfvyu47x/IGgdJr0vZzMFe"], ["confirmed_at", "2015-11-05 04:52:38.318579"], ["authentication_token", "uQmkuNoAvvASZ3kLjmUN"], ["created_at", "2015-11-05 04:52:38.320799"], ["updated_at", "2015-11-05 04:52:38.320799"]]
  [1m[35m (5.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test15' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #15' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #15"], ["subdomain", "test15"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:38.329012"], ["updated_at", "2015-11-05 04:52:38.329012"]]
  [1m[36m (5.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:38.336718"], ["updated_at", "2015-11-05 04:52:38.336718"]]
  [1m[35m (5.1ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test20@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test20@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-05 04:52:38.357373"], ["current_sign_in_at", "2015-11-05 04:52:38.357373"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 04:52:38.358095"], ["id", 1]]
  [1m[35m (8.3ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 15ms (ActiveRecord: 8.6ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "account"=>{"name"=>"Test", "subdomain"=>"test15"}, "commit"=>"Create Account"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test15' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test15' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.8ms | ActiveRecord: 0.6ms)
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test22@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "4t8MJ4sDhKsnzxjL3Mzw"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test22@example.com"], ["encrypted_password", "$2a$04$G5a7h/QV43lk3A3M8iU94ewyRGPXnvFkmZB/kX148QwYYwbHRxvNi"], ["confirmed_at", "2015-11-05 04:52:38.456717"], ["authentication_token", "4t8MJ4sDhKsnzxjL3Mzw"], ["created_at", "2015-11-05 04:52:38.459023"], ["updated_at", "2015-11-05 04:52:38.459023"]]
  [1m[36m (10.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test16' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #16' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #16"], ["subdomain", "test16"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:38.472917"], ["updated_at", "2015-11-05 04:52:38.472917"]]
  [1m[35m (5.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:38.481202"], ["updated_at", "2015-11-05 04:52:38.481202"]]
  [1m[36m (4.8ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test22@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test22@example.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 04:52:38.502010"], ["current_sign_in_at", "2015-11-05 04:52:38.502010"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 04:52:38.502751"], ["id", 1]]
  [1m[36m (6.2ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 13ms (ActiveRecord: 6.5ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "account"=>{"name"=>"Test", "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Test"], ["subdomain", "test"], ["created_at", "2015-11-05 04:52:38.533737"], ["updated_at", "2015-11-05 04:52:38.533737"]]
  [1m[35m (9.3ms)[0m  commit transaction
  [1m[36mMtdevise::Account Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 2) LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 2 AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["user_id", 1], ["created_at", "2015-11-05 04:52:38.547502"], ["updated_at", "2015-11-05 04:52:38.547502"]]
  [1m[36m (6.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 2) LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 2 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_accounts" SET "owner_id" = ?, "updated_at" = ? WHERE "mtdevise_accounts"."id" = ?[0m  [["owner_id", 1], ["updated_at", "2015-11-05 04:52:38.556727"], ["id", 2]]
  [1m[35m (4.6ms)[0m  commit transaction
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 2]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 2], ["created_at", "2015-11-05 04:52:38.563671"], ["updated_at", "2015-11-05 04:52:38.563671"]]
  [1m[35m (10.0ms)[0m  commit transaction
  [1m[36mMtdevise::Role Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)  [["user_id", 1], ["role_id", 1]]
  [1m[36m (6.1ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 55ms (ActiveRecord: 38.3ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.2ms)
  [1m[35m (5.0ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (4.8ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (4.6ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (4.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (16.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test24@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "hfXpEXhU--Yucr2ELehz"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test24@example.com"], ["encrypted_password", "$2a$04$TV3l43NrY2FQJTDaXKHMueVy6skj5AfBvwovdoDhKW77xeacGfaue"], ["confirmed_at", "2015-11-05 04:52:38.661629"], ["authentication_token", "hfXpEXhU--Yucr2ELehz"], ["created_at", "2015-11-05 04:52:38.663782"], ["updated_at", "2015-11-05 04:52:38.663782"]]
  [1m[35m (9.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test17' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #17' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #17"], ["subdomain", "test17"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:38.676573"], ["updated_at", "2015-11-05 04:52:38.676573"]]
  [1m[36m (5.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:38.684226"], ["updated_at", "2015-11-05 04:52:38.684226"]]
  [1m[35m (5.2ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"test24@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test24@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-05 04:52:38.704625"], ["current_sign_in_at", "2015-11-05 04:52:38.704625"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 04:52:38.705372"], ["id", 1]]
  [1m[35m (6.1ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 6.4ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "account"=>{"name"=>"Test", "subdomain"=>"admin"}, "commit"=>"Create Account"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.8ms | ActiveRecord: 0.6ms)
  [1m[36m (5.5ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (9.8ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (10.6ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
